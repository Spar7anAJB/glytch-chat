@import url("https://fonts.googleapis.com/css2?family=Atkinson+Hyperlegible:wght@400;700&family=Manrope:wght@400;500;600;700;800&family=Sora:wght@600;700;800&family=Orbitron:wght@500;700&family=Poppins:wght@400;500;600;700&family=Rajdhani:wght@500;600;700&family=Space+Mono:wght@400;700&family=Merriweather:wght@400;700&display=swap");

:root {
  color-scheme: dark;
  --bg: #050914;
  --panel: #0c1629;
  --panel-border: #1f3352;
  --text: #e7f1ff;
  --muted: #8da4c7;
  --accent: #2f9bff;
  --accent-strong: #63b7ff;
  --card: #101d33;
  --card-border: #284365;
  --bubble-bot: #13223d;
  --bubble-me: #193a58;
  --hot: #ff6f91;
  --orange: #ff8a5e;
  --warn: #173158;
  --violet: #151d3a;
  --text-on-accent: #0d1e2a;
  --status-active: #34c759;
  --status-away: #f6cf64;
  --status-busy: #ff6a88;
  --status-offline: #8f98a0;
  --font-ui: "Orbitron", "Manrope", "Avenir Next", "Segoe UI", sans-serif;
  --font-display: "Orbitron", "Sora", "Manrope", "Avenir Next", sans-serif;
  --focus-ring: 0 0 0 3px color-mix(in srgb, var(--accent-strong), transparent 74%);
  --surface-shadow-soft: 0 14px 30px color-mix(in srgb, var(--bg), transparent 70%);
  --surface-shadow-strong: 0 18px 40px color-mix(in srgb, var(--bg), transparent 56%);
}

@keyframes shell-rise {
  from {
    opacity: 0;
    transform: translateY(8px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes auth-bg-drift {
  0% {
    background-position: 0 0, 100% 100%;
  }

  50% {
    background-position: 48% 54%, 30% 72%;
  }

  100% {
    background-position: 0 0, 100% 100%;
  }
}

@keyframes auth-glitch {
  0% {
    text-shadow: 1px 1px var(--accent-strong), -1px -1px var(--accent);
    transform: translate(0);
  }

  25% {
    transform: translate(-0.4px, 0.5px);
  }

  50% {
    transform: translate(0.4px, -0.5px);
  }

  75% {
    transform: translate(-0.45px, 0.35px);
  }

  100% {
    text-shadow: 0 0 5px var(--accent-strong);
    transform: translate(0);
  }
}

@keyframes auth-caret-blink {
  50% {
    border-color: transparent;
  }
}

@keyframes avatar-sparkle {
  0%,
  100% {
    opacity: 0.35;
    filter: brightness(0.9);
  }

  50% {
    opacity: 1;
    filter: brightness(1.2);
  }
}

@keyframes avatar-decor-spark {
  0%,
  100% {
    opacity: 0.2;
    transform: scale(0.82);
  }

  50% {
    opacity: 0.88;
    transform: scale(1.12);
  }
}

@keyframes avatar-crown-glow {
  0%,
  100% {
    opacity: 0.35;
    transform: scale(0.9);
  }

  50% {
    opacity: 0.9;
    transform: scale(1.08);
  }
}

@keyframes avatar-heart-pulse {
  0%,
  100% {
    opacity: 0.3;
    transform: scale(0.86);
  }

  45% {
    opacity: 0.82;
    transform: scale(1.14);
  }
}

@keyframes avatar-bolt-flash {
  0%,
  100% {
    opacity: 0.25;
    transform: translateY(0);
  }

  40% {
    opacity: 0.92;
    transform: translateY(-2px);
  }
}

@keyframes avatar-moon-orbit {
  0% {
    transform: rotate(0deg) translateX(12px) rotate(0deg);
  }

  100% {
    transform: rotate(360deg) translateX(12px) rotate(-360deg);
  }
}

@keyframes avatar-leaf-float {
  0%,
  100% {
    opacity: 0.3;
    transform: translate3d(0, 0, 0) rotate(-8deg);
  }

  50% {
    opacity: 0.82;
    transform: translate3d(-2px, -3px, 0) rotate(8deg);
  }
}

@keyframes avatar-star-breathe {
  0%,
  100% {
    opacity: 0.26;
    transform: scale(0.86);
  }

  50% {
    opacity: 0.82;
    transform: scale(1.08);
  }
}

html,
body,
#root {
  height: 100%;
  margin: 0;
  font-size: 14px;
}

* {
  box-sizing: border-box;
}

body {
  font-family: var(--font-ui);
  background: var(--bg);
  color: var(--text);
}

button,
input,
select,
textarea {
  font: inherit;
}

button:focus-visible,
input:focus-visible,
select:focus-visible,
textarea:focus-visible {
  outline: none;
  box-shadow: var(--focus-ring);
}

.authPage {
  position: relative;
  isolation: isolate;
  overflow: hidden;
  height: 100%;
  display: grid;
  place-items: center;
  background: linear-gradient(160deg, color-mix(in srgb, var(--bg), #000 14%), color-mix(in srgb, var(--panel), #000 12%));
  color: var(--text);
  font-family: var(--font-ui);
  padding: 20px;
}

.authPage::before {
  content: "";
  position: absolute;
  inset: 0;
  z-index: -2;
  background:
    radial-gradient(circle at 24% 26%, color-mix(in srgb, var(--accent), transparent 72%) 0%, transparent 66%),
    radial-gradient(circle at 74% 74%, color-mix(in srgb, var(--accent-strong), transparent 76%) 0%, transparent 68%);
  opacity: 0.56;
  animation: auth-bg-drift 20s linear infinite;
}

.authPage::after {
  content: "";
  position: absolute;
  inset: 0;
  z-index: -1;
  background: repeating-linear-gradient(
    180deg,
    color-mix(in srgb, var(--accent-strong), transparent 92%) 0px,
    color-mix(in srgb, var(--accent-strong), transparent 92%) 1px,
    transparent 1px,
    transparent 5px
  );
  pointer-events: none;
}

.authCard {
  width: min(430px, 100%);
  background: color-mix(in srgb, var(--card), transparent 6%);
  border: 1px solid color-mix(in srgb, var(--panel-border), transparent 18%);
  border-radius: 16px;
  padding: 24px;
  box-shadow:
    0 0 20px color-mix(in srgb, var(--accent), transparent 82%),
    0 0 12px color-mix(in srgb, var(--accent-strong), transparent 88%),
    var(--surface-shadow-strong);
  backdrop-filter: blur(9px);
  position: relative;
  z-index: 2;
}

.authPage .authBackButton {
  border: 1px solid color-mix(in srgb, var(--panel-border), transparent 34%);
  background: color-mix(in srgb, var(--panel), var(--bg) 20%);
  color: var(--text);
  padding: 0.4rem 0.95rem;
  transition: border-color 0.16s ease, box-shadow 0.16s ease, color 0.16s ease;
}

.authPage .authBackButton:hover {
  color: var(--accent-strong);
  border-color: color-mix(in srgb, var(--accent), transparent 30%);
  box-shadow: 0 0 10px color-mix(in srgb, var(--accent-strong), transparent 78%);
}

.authProjectLogo {
  width: clamp(96px, 14vw, 126px);
  height: clamp(96px, 14vw, 126px);
  object-fit: cover;
  border-radius: 0;
  border: 0;
  display: block;
  margin: 14px auto 10px;
  box-shadow: none;
}

.authPage .site-title {
  margin: 0;
  font-family: "Orbitron", var(--font-display);
  color: var(--accent);
  text-align: center;
  font-size: clamp(1.8rem, 3.5vw, 2.35rem);
  letter-spacing: 0.06em;
  animation: auth-glitch 3s infinite;
}

.authSiteTitle {
  margin-top: 6px;
  min-height: 1.25em;
  display: flex;
  align-items: center;
  justify-content: center;
}

.typing-text {
  width: 12ch;
  white-space: nowrap;
  overflow: hidden;
  display: inline-flex;
  justify-content: flex-start;
  align-items: center;
  text-align: left;
}

.typing-text::after {
  content: "";
  border-right: 2px solid var(--accent);
  margin-left: 2px;
  height: 0.95em;
  animation: auth-caret-blink 0.75s step-end infinite;
}

.glitch-text {
  animation: auth-glitch 1.6s infinite;
}

.authModeTitle {
  margin: 10px 0 2px;
  font-family: "Orbitron", var(--font-display);
  text-align: center;
  font-size: 1.08rem;
  letter-spacing: 0.08em;
  color: var(--text);
}

.authSubtitle {
  margin: 8px 0 16px;
  color: color-mix(in srgb, var(--muted), var(--text) 20%);
  font-size: 0.88rem;
  text-align: center;
}

.authTabs {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
  margin-bottom: 16px;
}

.authTabs .tab {
  border: 1px solid color-mix(in srgb, var(--card-border), transparent 36%);
  background: color-mix(in srgb, var(--panel), var(--bg) 20%);
  color: var(--text);
  border-radius: 10px;
  padding: 10px;
  cursor: pointer;
  font-family: "Orbitron", var(--font-ui);
  font-weight: 700;
  letter-spacing: 0.04em;
  transition: border-color 0.16s ease, transform 0.16s ease, box-shadow 0.16s ease, color 0.16s ease;
}

.authTabs .tab:hover {
  transform: translateY(-1px);
  color: var(--accent-strong);
  border-color: color-mix(in srgb, var(--accent), transparent 35%);
}

.authTabs .tab.active {
  background: linear-gradient(140deg, color-mix(in srgb, var(--accent), #fff 8%), var(--accent-strong));
  border-color: color-mix(in srgb, var(--accent), #fff 22%);
  color: var(--text-on-accent);
  box-shadow: 0 0 12px color-mix(in srgb, var(--accent), transparent 72%);
}

.authForm {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.authForm label {
  display: flex;
  flex-direction: column;
  gap: 6px;
  font-size: 0.84rem;
  color: color-mix(in srgb, var(--muted), var(--text) 20%);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  font-weight: 700;
}

.authForm input:not([type="checkbox"]) {
  border: 1px solid color-mix(in srgb, var(--panel-border), transparent 30%);
  border-radius: 10px;
  padding: 11px 12px;
  background: color-mix(in srgb, var(--panel), var(--bg) 16%);
  color: var(--text);
  outline: none;
  transition: border-color 0.16s ease, box-shadow 0.16s ease, color 0.16s ease;
}

.authForm input:not([type="checkbox"]):focus {
  border-color: color-mix(in srgb, var(--accent), transparent 24%);
  box-shadow: 0 0 8px color-mix(in srgb, var(--accent-strong), transparent 78%);
}

.authRememberMe {
  flex-direction: row;
  align-items: center;
  gap: 8px;
  color: color-mix(in srgb, var(--muted), var(--text) 20%);
  text-transform: none;
  letter-spacing: 0.01em;
}

.authRememberMe input[type="checkbox"] {
  width: 16px;
  height: 16px;
  accent-color: var(--accent);
}

.authError {
  margin: 0;
  color: #d64564;
  font-size: 0.9rem;
  text-align: center;
  text-shadow: 0 0 10px color-mix(in srgb, #d64564, transparent 74%);
}

.authSubmit {
  border: 0;
  border-radius: 10px;
  padding: 12px;
  margin-top: 4px;
  background: linear-gradient(140deg, color-mix(in srgb, var(--accent), #fff 8%), var(--accent-strong));
  color: var(--text-on-accent);
  font-family: "Orbitron", var(--font-ui);
  font-weight: 700;
  letter-spacing: 0.04em;
  cursor: pointer;
  transition: transform 0.16s ease, box-shadow 0.16s ease, background-color 0.16s ease;
  box-shadow: 0 0 12px color-mix(in srgb, var(--accent-strong), transparent 74%);
}

.authSubmit:hover {
  transform: translateY(-1px);
  background: linear-gradient(140deg, color-mix(in srgb, var(--accent), #fff 16%), var(--accent-strong));
  box-shadow: 0 0 16px color-mix(in srgb, var(--accent), transparent 66%);
}

.authSubmit:disabled {
  opacity: 0.65;
  cursor: not-allowed;
}

@media (max-width: 560px) {
  .authCard {
    padding: 20px 16px 18px;
  }

  .authModeTitle {
    font-size: 0.96rem;
  }
}

.tab {
  border: 1px solid color-mix(in srgb, var(--card-border), transparent 16%);
  background: color-mix(in srgb, var(--card), transparent 8%);
  color: var(--text);
  border-radius: 12px;
  padding: 10px;
  cursor: pointer;
  font-weight: 700;
  transition: transform 0.16s ease, border-color 0.16s ease, background-color 0.16s ease;
}

.tab:hover {
  transform: translateY(-1px);
  border-color: color-mix(in srgb, var(--accent), var(--card-border) 32%);
}

.tab.active {
  background: linear-gradient(135deg, color-mix(in srgb, var(--accent), #fff 8%), var(--accent-strong));
  border-color: color-mix(in srgb, var(--accent), #fff 18%);
  color: var(--text-on-accent);
  box-shadow: 0 8px 18px color-mix(in srgb, var(--accent), transparent 72%);
}

.page {
  height: 100%;
  width: 100%;
  display: flex;
  background:
    radial-gradient(800px 420px at -12% -18%, color-mix(in srgb, var(--accent), transparent 72%), transparent 66%),
    radial-gradient(740px 380px at 104% 8%, color-mix(in srgb, var(--orange), transparent 86%), transparent 68%),
    linear-gradient(148deg, color-mix(in srgb, var(--bg), #0a1222 36%), color-mix(in srgb, var(--panel), #040913 28%));
  color: var(--text);
  font-family: var(--font-ui);
}

.page.a11yUnderlineLinks a {
  text-decoration: underline !important;
}

.page.a11yHighContrast {
  --focus-ring: 0 0 0 3px color-mix(in srgb, var(--accent), transparent 42%);
}

.page.a11yLargeTouchTargets button,
.page.a11yLargeTouchTargets input,
.page.a11yLargeTouchTargets select {
  min-height: 42px;
}

.page.a11yLargeTouchTargets .voiceButton.iconOnly,
.page.a11yLargeTouchTargets .composerIconButton {
  min-width: 42px;
  min-height: 42px;
}

.page.a11yReducedVisualNoise .sidemenu,
.page.a11yReducedVisualNoise .profilePreviewCard,
.page.a11yReducedVisualNoise .voicePanel,
.page.a11yReducedVisualNoise .dmInAppBanner {
  backdrop-filter: none;
}

.page.a11yReducedVisualNoise .sidemenu,
.page.a11yReducedVisualNoise .chatLayout,
.page.a11yReducedVisualNoise .membersPanel {
  background: color-mix(in srgb, var(--panel), var(--bg) 20%) !important;
}

.page.a11yReduceMotion *,
.page.a11yReduceMotion *::before,
.page.a11yReduceMotion *::after {
  animation-duration: 0.01ms !important;
  animation-iteration-count: 1 !important;
  transition-duration: 0.01ms !important;
  scroll-behavior: auto !important;
}

.sidemenu {
  width: 372px;
  border-right: 1px solid color-mix(in srgb, var(--panel-border), transparent 16%);
  background:
    radial-gradient(460px 240px at -20% -10%, color-mix(in srgb, var(--accent), transparent 84%), transparent 72%),
    linear-gradient(180deg, color-mix(in srgb, var(--panel), var(--bg) 20%), color-mix(in srgb, var(--card), var(--bg) 38%) 80%);
  box-sizing: border-box;
  display: flex;
  overflow: visible;
  position: relative;
  z-index: 3;
  backdrop-filter: blur(10px);
  animation: shell-rise 0.26s ease-out both;
}

.identityCard {
  display: flex;
  align-items: center;
  gap: 10px;
  background: color-mix(in srgb, var(--card), transparent 4%);
  border: 1px solid color-mix(in srgb, var(--card-border), transparent 18%);
  border-radius: 14px;
  padding: 10px;
  box-shadow: var(--surface-shadow-soft);
}

.identityMeta {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.avatarButton {
  width: 44px;
  height: 44px;
  aspect-ratio: 1 / 1;
  border-radius: 50%;
  border: 1px solid color-mix(in srgb, var(--panel-border), transparent 12%);
  background: linear-gradient(145deg, color-mix(in srgb, var(--accent), #fff 7%), var(--accent-strong));
  color: var(--text-on-accent);
  overflow: hidden;
  display: grid;
  place-items: center;
  font-weight: 700;
  cursor: pointer;
  padding: 0;
}

.avatarButton.withPresence {
  position: relative;
  overflow: visible;
}

.avatarButtonMedia {
  width: 100%;
  height: 100%;
  aspect-ratio: 1 / 1;
  border-radius: inherit;
  overflow: hidden;
  display: grid;
  place-items: center;
}

.avatarButtonMedia > span {
  line-height: 1;
}

.avatarDecorationLayer {
  --avatar-decor-color: #ffffff;
  --avatar-decor-bg: #4e8cff;
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 4;
}

.avatarDecorationGlyph {
  position: absolute;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 18px;
  height: 18px;
  border-radius: 999px;
  border: 1px solid color-mix(in srgb, var(--avatar-decor-bg), #ffffff 25%);
  color: var(--avatar-decor-color);
  background: color-mix(in srgb, var(--avatar-decor-bg), #111111 10%);
  font-size: 0.66rem;
  font-weight: 800;
  line-height: 1;
  box-shadow: 0 3px 10px color-mix(in srgb, var(--bg), transparent 72%);
  padding: 0 4px;
}

.avatarDecorationLayer.small .avatarDecorationGlyph {
  min-width: 16px;
  height: 16px;
  font-size: 0.58rem;
}

.avatarDecorationLayer.crown .avatarDecorationGlyph {
  top: -8px;
  left: 50%;
  transform: translateX(-50%);
  min-width: 22px;
  padding: 0 6px;
  border-radius: 9px;
}

.avatarDecorationLayer.small.crown .avatarDecorationGlyph {
  top: -7px;
  min-width: 18px;
}

.avatarDecorationLayer.sparkle::after {
  content: "";
  position: absolute;
  inset: 1px;
  border-radius: 999px;
  border: 1px solid color-mix(in srgb, var(--avatar-decor-color), transparent 62%);
  opacity: 0.65;
}

.avatarDecorationLayer.sparkle .sparkle {
  position: absolute;
  color: var(--avatar-decor-color);
  line-height: 1;
  text-shadow: 0 0 9px color-mix(in srgb, var(--avatar-decor-bg), transparent 10%);
  animation: avatar-sparkle 1.8s ease-in-out infinite;
}

.avatarDecorationLayer.sparkle .sparkle.s1 {
  top: -3px;
  left: 52%;
  transform: translateX(-50%);
  font-size: 0.72rem;
}

.avatarDecorationLayer.sparkle .sparkle.s2 {
  top: 17%;
  right: -3px;
  font-size: 0.6rem;
  animation-delay: 0.28s;
}

.avatarDecorationLayer.sparkle .sparkle.s3 {
  bottom: 13%;
  left: -2px;
  font-size: 0.53rem;
  animation-delay: 0.56s;
}

.avatarDecorationLayer.small.sparkle .sparkle.s1 {
  font-size: 0.62rem;
}

.avatarDecorationLayer.small.sparkle .sparkle.s2 {
  font-size: 0.5rem;
}

.avatarDecorationLayer.small.sparkle .sparkle.s3 {
  font-size: 0.44rem;
}

.avatarDecorationSpark {
  position: absolute;
  color: color-mix(in srgb, var(--avatar-decor-color), #ffffff 15%);
  line-height: 1;
  text-shadow: 0 0 8px color-mix(in srgb, var(--avatar-decor-bg), transparent 32%);
  animation: avatar-decor-spark 1.65s ease-in-out infinite;
}

.avatarDecorationSpark.sparkA {
  left: -2px;
  top: 10%;
  font-size: 0.54rem;
}

.avatarDecorationSpark.sparkB {
  right: -3px;
  bottom: 9%;
  font-size: 0.5rem;
  animation-delay: 0.48s;
}

.avatarDecorationLayer.small .avatarDecorationSpark.sparkA {
  font-size: 0.44rem;
}

.avatarDecorationLayer.small .avatarDecorationSpark.sparkB {
  font-size: 0.4rem;
}

.avatarDecorationAura,
.avatarDecorationPulse,
.avatarDecorationTrail,
.avatarDecorationOrbit,
.avatarDecorationFloat,
.avatarDecorationHalo {
  position: absolute;
  pointer-events: none;
}

.avatarDecorationAura.crownAura {
  top: -4px;
  left: 50%;
  width: 30px;
  height: 10px;
  transform: translateX(-50%);
  border-radius: 999px;
  background: color-mix(in srgb, var(--avatar-decor-bg), #ffffff 30%);
  box-shadow: 0 0 12px color-mix(in srgb, var(--avatar-decor-bg), transparent 40%);
  animation: avatar-crown-glow 2s ease-in-out infinite;
}

.avatarDecorationLayer.small .avatarDecorationAura.crownAura {
  width: 24px;
}

.avatarDecorationPulse.heartPulse {
  right: -6px;
  bottom: -6px;
  width: 24px;
  height: 24px;
  border-radius: 999px;
  background: color-mix(in srgb, var(--avatar-decor-bg), transparent 65%);
  animation: avatar-heart-pulse 1.45s ease-in-out infinite;
}

.avatarDecorationTrail.boltTrail {
  right: -2px;
  bottom: -4px;
  width: 12px;
  height: 20px;
  border-radius: 10px;
  background: linear-gradient(
    180deg,
    color-mix(in srgb, var(--avatar-decor-color), transparent 8%),
    color-mix(in srgb, var(--avatar-decor-bg), transparent 60%)
  );
  clip-path: polygon(52% 0%, 74% 22%, 54% 22%, 70% 48%, 44% 48%, 58% 100%, 28% 58%, 42% 58%, 28% 34%, 46% 34%);
  animation: avatar-bolt-flash 1.2s ease-in-out infinite;
}

.avatarDecorationOrbit.moonOrbit {
  top: 50%;
  left: 50%;
  width: 6px;
  height: 6px;
  margin: -3px;
  border-radius: 999px;
  background: color-mix(in srgb, var(--avatar-decor-color), var(--avatar-decor-bg) 24%);
  box-shadow: 0 0 7px color-mix(in srgb, var(--avatar-decor-bg), transparent 44%);
  animation: avatar-moon-orbit 5.8s linear infinite;
}

.avatarDecorationFloat.leafFloat {
  color: color-mix(in srgb, var(--avatar-decor-color), var(--avatar-decor-bg) 34%);
  font-size: 0.5rem;
  animation: avatar-leaf-float 1.9s ease-in-out infinite;
}

.avatarDecorationFloat.leafFloat.l1 {
  right: 1px;
  bottom: -2px;
}

.avatarDecorationFloat.leafFloat.l2 {
  right: 9px;
  bottom: 4px;
  animation-delay: 0.38s;
}

.avatarDecorationHalo.starHalo {
  right: -5px;
  bottom: -5px;
  width: 22px;
  height: 22px;
  border-radius: 999px;
  border: 1px solid color-mix(in srgb, var(--avatar-decor-bg), #ffffff 28%);
  background: color-mix(in srgb, var(--avatar-decor-bg), transparent 76%);
  animation: avatar-star-breathe 1.7s ease-in-out infinite;
}

.avatarDecorationLayer.heart .avatarDecorationGlyph,
.avatarDecorationLayer.bolt .avatarDecorationGlyph,
.avatarDecorationLayer.moon .avatarDecorationGlyph,
.avatarDecorationLayer.leaf .avatarDecorationGlyph,
.avatarDecorationLayer.star .avatarDecorationGlyph {
  right: -3px;
  bottom: -3px;
  animation: avatar-decor-spark 1.95s ease-in-out infinite;
}

.avatarButton img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center;
  border-radius: inherit;
  display: block;
}

.settingsLink {
  border: 0;
  background: transparent;
  color: var(--muted);
  text-align: left;
  padding: 0;
  cursor: pointer;
  font-size: 0.82rem;
}

.settingsLink:hover {
  color: var(--text);
}

.presenceLabel {
  margin: 0;
  font-size: 0.76rem;
  font-weight: 700;
}

.presenceLabel.active {
  color: var(--status-active);
}

.presenceLabel.away {
  color: var(--status-away);
}

.presenceLabel.busy {
  color: var(--status-busy);
}

.presenceLabel.offline {
  color: var(--muted);
}

.presenceSelectLabel {
  display: flex;
  flex-direction: column;
  gap: 3px;
  font-size: 0.74rem;
  color: var(--muted);
}

.presenceSelectLabel select {
  border: 1px solid var(--card-border);
  border-radius: 8px;
  background: var(--panel);
  color: var(--text);
  font-size: 0.78rem;
  padding: 5px 8px;
}

.primaryNav {
  display: flex;
  flex-direction: column;
  gap: 12px;
  width: 86px;
  flex: 0 0 86px;
  padding: 14px 10px;
  border-right: 1px solid color-mix(in srgb, var(--panel-border), transparent 24%);
  position: relative;
  z-index: 1;
  background: color-mix(in srgb, var(--panel), transparent 14%);
}

.navOption {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 6px;
  border: 1px solid color-mix(in srgb, var(--card-border), transparent 46%);
  text-align: center;
  color: var(--text);
  background: color-mix(in srgb, var(--panel), var(--bg) 14%);
  border-radius: 14px;
  padding: 10px 6px;
  cursor: pointer;
  transition: transform 0.16s ease, background-color 0.16s ease, border-color 0.16s ease, color 0.16s ease, box-shadow 0.16s ease;
  font-weight: 700;
  font-size: 0.72rem;
  line-height: 1.2;
}

.navOption:hover {
  transform: translateY(-1px);
  background: color-mix(in srgb, var(--warn), var(--panel) 42%);
  border-color: color-mix(in srgb, var(--accent), var(--card-border) 36%);
}

.navOption.active {
  background: linear-gradient(145deg, color-mix(in srgb, var(--accent), #fff 10%), var(--accent-strong));
  border-color: color-mix(in srgb, var(--accent), #fff 24%);
  color: var(--text-on-accent);
  box-shadow: 0 12px 20px color-mix(in srgb, var(--accent), transparent 72%);
}

.navOptionIcon {
  width: 22px;
  height: 22px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  color: currentColor;
  flex: 0 0 22px;
  position: relative;
  overflow: visible;
}

.navOptionIcon svg {
  width: 100%;
  height: 100%;
}

.navUnreadBadge {
  position: absolute;
  top: -7px;
  right: -10px;
  min-width: 18px;
  height: 18px;
  border-radius: 999px;
  padding: 0 5px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  background: #d62839;
  color: #ffffff;
  border: 1px solid rgba(255, 255, 255, 0.22);
  box-shadow: 0 6px 14px color-mix(in srgb, #000000, transparent 78%);
  font-size: 0.64rem;
  font-weight: 800;
  line-height: 1;
  pointer-events: none;
}

.navGlytchIconButton {
  border: 1px solid color-mix(in srgb, var(--card-border), transparent 44%);
  border-radius: 14px;
  background: color-mix(in srgb, var(--panel), var(--bg) 12%);
  cursor: pointer;
  padding: 4px;
  display: grid;
  place-items: center;
  position: relative;
  transition: transform 0.16s ease, background-color 0.16s ease, border-color 0.16s ease, box-shadow 0.16s ease;
}

.navGlytchIconButton:hover {
  transform: translateY(-1px);
  background: color-mix(in srgb, var(--warn), var(--panel) 40%);
}

.navGlytchIconButton.active {
  border-color: color-mix(in srgb, var(--accent), #fff 20%);
  background: color-mix(in srgb, var(--accent), var(--panel) 64%);
  box-shadow: 0 10px 18px color-mix(in srgb, var(--accent), transparent 74%);
}

.navGlytchIconButton::after {
  content: attr(data-glytch-name);
  position: absolute;
  left: calc(100% + 10px);
  top: 50%;
  transform: translateY(-50%) translateX(-6px);
  border: 1px solid var(--card-border);
  border-radius: 8px;
  background: var(--panel);
  color: var(--text);
  padding: 4px 8px;
  font-size: 0.75rem;
  font-weight: 700;
  white-space: nowrap;
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
  transition: opacity 0.15s ease, transform 0.15s ease, visibility 0.15s ease;
  z-index: 4;
}

.navGlytchIconButton:hover::after,
.navGlytchIconButton:focus-visible::after {
  opacity: 1;
  visibility: visible;
  transform: translateY(-50%) translateX(0);
}

.navGlytchIcon {
  width: 28px;
  height: 28px;
  border-radius: 8px;
  overflow: hidden;
  display: grid;
  place-items: center;
  background: var(--accent);
  color: var(--text-on-accent);
  font-size: 0.68rem;
  font-weight: 700;
}

.navGlytchIcon img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.railIdentity {
  margin-top: auto;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  position: relative;
}

.railAvatarButton {
  flex: 0 0 auto;
  width: 44px;
  height: 44px;
  min-width: 44px;
  min-height: 44px;
  aspect-ratio: 1 / 1;
}

.railAvatarButton img {
  aspect-ratio: 1 / 1;
}

.railSystemButton {
  width: 36px;
  height: 36px;
  border-radius: 11px;
  border: 1px solid color-mix(in srgb, var(--card-border), transparent 38%);
  background: color-mix(in srgb, var(--panel), var(--bg) 18%);
  color: var(--text);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: transform 0.16s ease, border-color 0.16s ease, background-color 0.16s ease;
}

.railSystemButton:hover {
  transform: translateY(-1px);
  border-color: color-mix(in srgb, var(--accent), #ffffff 20%);
  background: color-mix(in srgb, var(--card), var(--panel) 40%);
}

.railSystemButton.active {
  border-color: color-mix(in srgb, var(--accent), #ffffff 18%);
  background: color-mix(in srgb, var(--accent), var(--panel) 78%);
}

.railSystemButton svg {
  width: 18px;
  height: 18px;
}

.railIdentityPopover {
  position: absolute;
  left: 100%;
  bottom: 0;
  min-width: 190px;
  max-width: 220px;
  opacity: 0;
  transform: translateY(6px);
  visibility: hidden;
  pointer-events: none;
  transition: opacity 0.16s ease, transform 0.16s ease, visibility 0.16s ease;
  z-index: 2;
}

.railAvatarButton:hover + .railIdentityPopover,
.railAvatarButton:focus + .railIdentityPopover,
.railAvatarButton:focus-visible + .railIdentityPopover,
.railIdentityPopover:hover,
.railIdentityPopover:focus-within {
  opacity: 1;
  transform: translateY(0);
  visibility: visible;
  pointer-events: auto;
}

.sideContent {
  flex: 1;
  min-width: 0;
  display: flex;
  flex-direction: column;
  padding: 14px 12px;
  gap: 12px;
}

.sideContentBody {
  flex: 1;
  min-height: 0;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  gap: 14px;
  padding-right: 4px;
}

.sideContentBody::-webkit-scrollbar {
  width: 10px;
}

.sideContentBody::-webkit-scrollbar-thumb {
  background: var(--panel-border);
  border-radius: 999px;
}

.subModeSwitch {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 8px;
}

.glytchActions {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 6px;
}

.subModeSwitch .channelItem,
.glytchActions .channelItem {
  text-align: center;
  min-height: 40px;
  padding: 8px 10px;
  font-size: 0.78rem;
  line-height: 1.2;
}

.addFriendForm,
.stackedForm,
.requestSection,
.channelList {
  background: color-mix(in srgb, var(--card), transparent 4%);
  border: 1px solid color-mix(in srgb, var(--card-border), transparent 22%);
  border-radius: 14px;
  padding: 12px;
  box-shadow: var(--surface-shadow-soft);
}

.addFriendForm {
  display: grid;
  grid-template-columns: minmax(0, 1fr) auto;
  align-items: center;
  gap: 8px;
}

.addFriendForm input {
  min-width: 0;
  border: 1px solid color-mix(in srgb, var(--card-border), transparent 18%);
  border-radius: 11px;
  min-height: 36px;
  padding: 8px 10px;
  background: color-mix(in srgb, var(--panel), var(--bg) 10%);
  color: var(--text);
  font-size: 0.82rem;
  outline: none;
  transition: border-color 0.16s ease, background-color 0.16s ease;
}

.addFriendForm input:focus {
  border-color: var(--accent);
}

.addFriendForm button {
  flex: 0 0 auto;
  min-width: 88px;
  min-height: 36px;
  border: 0;
  border-radius: 11px;
  padding: 0 12px;
  background: linear-gradient(130deg, color-mix(in srgb, var(--accent), #fff 12%), var(--accent-strong));
  color: var(--text-on-accent);
  font-weight: 700;
  font-size: 0.78rem;
  white-space: nowrap;
  cursor: pointer;
}

.stackedForm {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.stackedForm input {
  border: 1px solid color-mix(in srgb, var(--card-border), transparent 18%);
  border-radius: 11px;
  padding: 8px 10px;
  background: color-mix(in srgb, var(--panel), var(--bg) 10%);
  color: var(--text);
  outline: none;
  transition: border-color 0.16s ease, background-color 0.16s ease;
}

.stackedForm select {
  border: 1px solid color-mix(in srgb, var(--card-border), transparent 18%);
  border-radius: 11px;
  padding: 8px 10px;
  background: color-mix(in srgb, var(--panel), var(--bg) 10%);
  color: var(--text);
  outline: none;
  transition: border-color 0.16s ease, background-color 0.16s ease;
}

.stackedForm textarea {
  border: 1px solid color-mix(in srgb, var(--card-border), transparent 18%);
  border-radius: 11px;
  padding: 8px 10px;
  background: color-mix(in srgb, var(--panel), var(--bg) 10%);
  color: var(--text);
  outline: none;
  resize: vertical;
  transition: border-color 0.16s ease, background-color 0.16s ease;
}

.stackedForm input:focus {
  border-color: var(--accent);
}

.stackedForm button {
  border: 0;
  border-radius: 11px;
  padding: 8px 10px;
  background: linear-gradient(130deg, color-mix(in srgb, var(--accent), #fff 8%), var(--accent-strong));
  color: var(--text-on-accent);
  cursor: pointer;
  font-weight: 700;
  transition: transform 0.16s ease, filter 0.16s ease;
}

.stackedForm button:hover {
  transform: translateY(-1px);
  filter: brightness(1.03);
}

.moderationActionRow {
  display: flex;
  gap: 8px;
}

.moderationActionRow > button {
  flex: 1;
}

.dangerZone {
  border-color: color-mix(in srgb, #d64564, var(--panel) 45%);
  background: color-mix(in srgb, #d64564, transparent 82%);
}

.dangerButton {
  background: #d62839 !important;
  color: #ffffff !important;
}

.dangerButton:hover:not(:disabled) {
  background: #b21f2f !important;
}

.dangerButton:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.permissionToggle {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 0.9rem;
  color: var(--text);
}

.permissionToggle input {
  width: 16px;
  height: 16px;
}

.permissionsList {
  display: flex;
  flex-direction: column;
  gap: 6px;
  max-height: 180px;
  overflow-y: auto;
  padding-right: 4px;
}

.roleAccessSection {
  gap: 8px;
}

.roleAccessRow {
  display: flex;
  align-items: center;
  gap: 8px;
}

.roleAccessRow button {
  margin-left: auto;
  border: 0;
  border-radius: 8px;
  padding: 6px 10px;
  background: var(--accent-strong);
  color: var(--text);
  cursor: pointer;
  font-weight: 700;
}

.roleHierarchyList {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.roleHierarchyRow {
  display: flex;
  align-items: center;
  gap: 8px;
  border: 1px solid var(--card-border);
  border-radius: 8px;
  background: var(--panel);
  padding: 8px 10px;
  cursor: grab;
}

.roleHierarchyRow.dragging {
  opacity: 0.65;
}

.roleHierarchyRow.dropTarget {
  border-color: var(--accent-strong);
  background: color-mix(in srgb, var(--accent), var(--panel) 75%);
}

.roleHierarchyRow.locked {
  cursor: default;
}

.roleHierarchyHandle {
  width: 18px;
  text-align: center;
  color: var(--muted);
  font-size: 0.9rem;
  font-weight: 700;
}

.roleHierarchyName {
  font-weight: 700;
  color: var(--role-color, var(--text));
}

.roleAccessBadge {
  font-size: 0.78rem;
  border-radius: 999px;
  padding: 2px 8px;
}

.roleAccessBadge.allowed {
  background: color-mix(in srgb, #61b36b, transparent 82%);
  color: #98efbc;
}

.roleAccessBadge.denied {
  background: color-mix(in srgb, #d64564, transparent 82%);
  color: #ff9caf;
}

.requestSection {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.sectionLabel {
  margin: 0 0 2px;
  color: color-mix(in srgb, var(--muted), var(--text) 14%);
  font-size: 0.72rem;
  letter-spacing: 0.09em;
  text-transform: uppercase;
  font-weight: 800;
}

.smallMuted {
  margin: 0;
  color: color-mix(in srgb, var(--muted), var(--text) 12%);
  font-size: 0.86rem;
}

.requestCard {
  border: 1px solid color-mix(in srgb, var(--card-border), transparent 16%);
  border-radius: 12px;
  padding: 10px;
  display: flex;
  flex-direction: column;
  gap: 6px;
  background: color-mix(in srgb, var(--panel), var(--bg) 12%);
}

.requestCard p {
  margin: 0;
  font-size: 0.9rem;
}

.requestActions {
  display: flex;
  gap: 6px;
  align-items: center;
  justify-content: space-between;
}

.requestActions button {
  border: 0;
  border-radius: 10px;
  padding: 6px 10px;
  background: linear-gradient(130deg, color-mix(in srgb, var(--accent), #fff 8%), var(--accent-strong));
  color: var(--text-on-accent);
  cursor: pointer;
  font-weight: 700;
}

.ghostButton {
  border: 1px solid color-mix(in srgb, var(--card-border), transparent 14%);
  border-radius: 10px;
  padding: 8px 12px;
  background: color-mix(in srgb, var(--panel), var(--bg) 14%);
  color: var(--text);
  cursor: pointer;
  transition: transform 0.16s ease, border-color 0.16s ease, background-color 0.16s ease;
}

.ghostButton:hover:not(:disabled) {
  transform: translateY(-1px);
  background: color-mix(in srgb, var(--warn), var(--panel) 42%);
  border-color: color-mix(in srgb, var(--accent), var(--card-border) 32%);
}

.ghostButton:disabled {
  opacity: 0.55;
  cursor: not-allowed;
}

.requestActions .ghostButton {
  background: var(--violet);
  color: var(--text);
}

.groupMemberAddForm {
  width: 100%;
}

.groupMemberAddForm > * {
  min-width: 0;
}

.groupMemberAddForm select {
  flex: 1 1 auto;
  min-width: 0;
  max-width: 100%;
  border: 1px solid color-mix(in srgb, var(--card-border), transparent 18%);
  border-radius: 11px;
  padding: 8px 10px;
  background: color-mix(in srgb, var(--panel), var(--bg) 10%);
  color: var(--text);
  outline: none;
}

.groupMemberAddForm button {
  flex: 0 0 auto;
  white-space: nowrap;
}

.channelList {
  display: flex;
  flex-direction: column;
  gap: 6px;
  border: 0;
  position: relative;
  overflow: visible;
}

.channelItem {
  border: 1px solid color-mix(in srgb, var(--card-border), transparent 44%);
  text-align: left;
  color: var(--text);
  background: color-mix(in srgb, var(--panel), var(--bg) 12%);
  border-radius: 11px;
  padding: 10px 12px;
  cursor: pointer;
  transition: transform 0.16s ease, background-color 0.16s ease, border-color 0.16s ease, box-shadow 0.16s ease;
}

.channelItem:hover {
  transform: translateY(-1px);
  background: color-mix(in srgb, var(--warn), var(--panel) 38%);
  border-color: color-mix(in srgb, var(--accent), var(--card-border) 40%);
}

.channelItem.active {
  background: linear-gradient(140deg, color-mix(in srgb, var(--accent), #fff 10%), var(--accent-strong));
  border-color: color-mix(in srgb, var(--accent), #fff 22%);
  color: var(--text-on-accent);
  box-shadow: 0 8px 16px color-mix(in srgb, var(--accent), transparent 76%);
}

.glytchRow {
  display: flex;
  align-items: stretch;
  gap: 6px;
}

.voiceChannelGroup {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.channelCategoryGroup {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.channelCategoryTitle {
  margin: 4px 0 0;
  color: var(--muted);
  font-size: 0.72rem;
  font-weight: 800;
  letter-spacing: 0.05em;
  text-transform: uppercase;
}

.channelCategoryChannels {
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin-left: 10px;
  padding-left: 8px;
  border-left: 1px solid color-mix(in srgb, var(--panel-border), transparent 32%);
}

.voiceChannelMembers {
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin: 0 0 4px 14px;
  padding-left: 8px;
  border-left: 1px solid color-mix(in srgb, var(--panel-border), transparent 22%);
}

.voiceChannelMember {
  display: flex;
  align-items: center;
  gap: 6px;
  border: 0;
  border-radius: 8px;
  background: transparent;
  color: var(--muted);
  padding: 3px 4px;
  cursor: pointer;
  text-align: left;
  font-size: 0.8rem;
  min-width: 0;
}

.voiceChannelMember:hover {
  background: color-mix(in srgb, var(--panel), transparent 20%);
  color: var(--text);
}

.voiceChannelMember:focus-visible {
  outline: 2px solid color-mix(in srgb, var(--accent-strong), transparent 15%);
  outline-offset: 1px;
}

.voiceChannelMember .friendAvatar {
  width: 20px;
  height: 20px;
  flex: 0 0 20px;
  font-size: 0.62rem;
}

.voiceChannelMemberName {
  flex: 1;
  min-width: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.voiceChannelMemberStateIcon {
  margin-left: auto;
  width: 14px;
  height: 14px;
  flex: 0 0 14px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  color: #d64564;
}

.voiceChannelMemberStateIcon svg {
  width: 100%;
  height: 100%;
}

.glytchRow .channelItem {
  flex: 1;
  min-width: 0;
}

.glytchItemLabel {
  display: flex;
  align-items: center;
  gap: 8px;
  min-width: 0;
}

.glytchItemIcon {
  width: 24px;
  height: 24px;
  min-width: 24px;
  min-height: 24px;
  max-width: 24px;
  max-height: 24px;
  aspect-ratio: 1 / 1;
  border-radius: 6px;
  overflow: hidden;
  display: grid;
  place-items: center;
  background: var(--accent);
  color: var(--text-on-accent);
  font-size: 0.65rem;
  font-weight: 700;
  flex: 0 0 24px;
}

.glytchItemIcon img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.glytchItemName {
  min-width: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.glytchSettingsButton {
  width: 40px;
  border: 1px solid transparent;
  border-radius: 8px;
  background: var(--panel);
  color: var(--muted);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: background-color 0.15s ease, border-color 0.15s ease, color 0.15s ease;
}

.glytchSettingsButton img {
  width: 24px;
  height: 24px;
  object-fit: contain;
  display: block;
}

.glytchSettingsButton:hover {
  background: var(--warn);
  color: var(--text);
}

.glytchSettingsButton.active {
  background: var(--accent);
  border-color: var(--warn);
  color: var(--text-on-accent);
}

.activeGlytchSection {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.activeGlytchSummaryRow {
  display: flex;
  align-items: center;
  gap: 8px;
  min-width: 0;
}

.activeGlytchSummaryName {
  flex: 1;
  min-width: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  font-weight: 700;
}

.activeGlytchSwitchButton {
  align-self: stretch;
  width: 100%;
  text-align: center;
}

.activeGlytchSection > .channelItem {
  width: 100%;
  text-align: center;
}

.glytchInvitePanel {
  display: flex;
  flex-direction: column;
  gap: 8px;
  border: 1px solid var(--card-border);
  border-radius: 10px;
  background: color-mix(in srgb, var(--panel), var(--bg) 16%);
  padding: 8px;
}

.glytchInviteSearch {
  width: 100%;
  border: 1px solid var(--card-border);
  border-radius: 10px;
  min-height: 36px;
  padding: 8px 10px;
  background: var(--panel);
  color: var(--text);
  font-size: 0.82rem;
  outline: none;
}

.glytchInviteSearch:focus {
  border-color: var(--accent-strong);
}

.glytchInviteNotice {
  margin: 0;
  color: var(--status-active);
  font-size: 0.82rem;
  font-weight: 700;
}

.glytchInviteList {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.glytchInviteRow {
  display: flex;
  align-items: center;
  gap: 8px;
}

.glytchInviteFriend {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  min-width: 0;
  flex: 1;
}

.glytchInviteFriendName {
  min-width: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  font-size: 0.88rem;
}

.glytchInviteAction {
  border: 0;
  border-radius: 8px;
  padding: 6px 10px;
  background: var(--accent-strong);
  color: var(--text);
  cursor: pointer;
  font-weight: 700;
}

.glytchInviteAction:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.friendItem {
  display: flex;
  align-items: center;
  gap: 8px;
  flex: 1;
  min-width: 0;
}

.dmNameRow {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  min-width: 0;
  flex: 1 1 auto;
}

.dmNameText {
  flex: 1 1 auto;
  min-width: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.friendRow {
  display: flex;
  align-items: center;
  gap: 6px;
}

.dmSearchRow {
  margin-bottom: 4px;
}

.dmSearchInput {
  width: 100%;
  border: 1px solid color-mix(in srgb, var(--card-border), transparent 18%);
  border-radius: 10px;
  padding: 8px 10px;
  background: color-mix(in srgb, var(--panel), var(--bg) 16%);
  color: var(--text);
  transition: border-color 0.16s ease, background-color 0.16s ease;
}

.dmSearchInput:focus {
  outline: none;
  border-color: color-mix(in srgb, var(--accent), #ffffff 24%);
  background: color-mix(in srgb, var(--card), var(--panel) 56%);
}

.dmPinnedBadge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 16px;
  height: 16px;
  flex: 0 0 16px;
  margin-left: auto;
}

.dmPinnedBadge::before {
  content: "\1F4CC";
  font-size: 0.7rem;
  line-height: 1;
}

.dmMutedBadge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 16px;
  height: 16px;
  flex: 0 0 16px;
  font-size: 0.7rem;
  line-height: 1;
}

.dmSidebarContextMenu {
  position: absolute;
  z-index: 48;
  width: 176px;
  max-width: calc(100% - 16px);
  display: flex;
  flex-direction: column;
  gap: 4px;
  border: 1px solid color-mix(in srgb, var(--card-border), transparent 10%);
  border-radius: 10px;
  padding: 6px;
  background: color-mix(in srgb, var(--card), var(--bg) 12%);
  box-shadow: 0 14px 30px color-mix(in srgb, #000000, transparent 72%);
}

.dmSidebarContextMenuItem {
  border: 1px solid transparent;
  border-radius: 8px;
  padding: 8px 10px;
  background: transparent;
  color: var(--text);
  font-size: 0.8rem;
  font-weight: 700;
  text-align: left;
  cursor: pointer;
}

.dmSidebarContextMenuItem:hover {
  background: color-mix(in srgb, var(--warn), var(--panel) 40%);
  border-color: color-mix(in srgb, var(--accent), var(--card-border) 35%);
}

.dmSidebarContextMenuItem.danger {
  color: #ff9caf;
}

.dmSidebarContextMenuItem.danger:hover {
  background: color-mix(in srgb, #d64564, transparent 80%);
  border-color: color-mix(in srgb, #d64564, var(--card-border) 35%);
}

.dmSidebarContextMenuItem:disabled {
  opacity: 0.62;
  cursor: not-allowed;
}

.dmNavContextMenu {
  position: fixed;
  z-index: 72;
  width: 184px;
  max-width: calc(100vw - 16px);
  display: flex;
  flex-direction: column;
  gap: 4px;
  border: 1px solid color-mix(in srgb, var(--card-border), transparent 10%);
  border-radius: 10px;
  padding: 6px;
  background: color-mix(in srgb, var(--card), var(--bg) 12%);
  box-shadow: 0 14px 30px color-mix(in srgb, #000000, transparent 72%);
}

.dmNavContextMenuItem {
  border: 1px solid transparent;
  border-radius: 8px;
  padding: 8px 10px;
  background: transparent;
  color: var(--text);
  font-size: 0.8rem;
  font-weight: 700;
  text-align: left;
  cursor: pointer;
}

.dmNavContextMenuItem:hover {
  background: color-mix(in srgb, var(--warn), var(--panel) 40%);
  border-color: color-mix(in srgb, var(--accent), var(--card-border) 35%);
}

.dmNavContextMenuItem:disabled {
  opacity: 0.62;
  cursor: not-allowed;
}

.friendAvatarButton {
  border: 1px solid transparent;
  background: transparent;
  border-radius: 999px;
  padding: 0;
  cursor: pointer;
  line-height: 0;
  transition: border-color 0.15s ease, box-shadow 0.15s ease;
}

.friendAvatarButton:hover {
  border-color: var(--card-border);
}

.friendAvatarButton:focus-visible {
  outline: none;
  border-color: var(--accent-strong);
  box-shadow: 0 0 0 2px color-mix(in srgb, var(--accent-strong), transparent 65%);
}

.unreadBubble {
  margin-left: auto;
  min-width: 20px;
  height: 20px;
  border-radius: 999px;
  padding: 0 6px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  background: #d62839;
  color: #ffffff;
  font-size: 0.72rem;
  font-weight: 800;
  line-height: 1;
}

.dmAlertBubbles {
  margin-left: 8px;
  display: inline-flex;
  align-items: center;
  gap: 6px;
}

.dmAlertBubbles .unreadBubble {
  margin-left: 0;
}

.callBubble {
  min-width: 20px;
  height: 20px;
  border-radius: 999px;
  padding: 0 6px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  background: #d62839;
  color: #ffffff;
  border: 1px solid rgba(255, 255, 255, 0.16);
  line-height: 1;
}

.callBubble svg {
  width: 11px;
  height: 11px;
}

.glytchMemberRow {
  display: flex;
  align-items: center;
  gap: 6px;
}

.memberHoverCardAnchor {
  position: relative;
}

.memberHoverCard {
  position: absolute;
  left: 8px;
  right: 8px;
  top: calc(100% + 4px);
  border: 1px solid var(--card-border);
  border-radius: 10px;
  background: color-mix(in srgb, var(--panel), var(--bg) 15%);
  box-shadow: 0 10px 24px color-mix(in srgb, #1e2b45, transparent 80%);
  padding: 8px;
  display: flex;
  flex-direction: column;
  gap: 6px;
  opacity: 0;
  visibility: hidden;
  transform: translateY(4px);
  transition: opacity 0.14s ease, transform 0.14s ease, visibility 0.14s ease;
  pointer-events: none;
  z-index: 12;
}

.memberHoverCardAnchor:hover .memberHoverCard,
.memberHoverCardAnchor:focus-within .memberHoverCard {
  opacity: 1;
  visibility: visible;
  transform: translateY(0);
}

.memberHoverHeader {
  display: flex;
  align-items: center;
  gap: 8px;
}

.memberHoverMeta {
  min-width: 0;
  display: flex;
  flex-direction: column;
  gap: 1px;
}

.memberHoverName {
  margin: 0;
  font-size: 0.88rem;
  font-weight: 700;
  display: inline-flex;
  align-items: center;
  gap: 4px;
}

.memberHoverUsername {
  margin: 0;
  font-size: 0.76rem;
  color: var(--muted);
}

.memberHoverPresence {
  margin: 0;
  font-size: 0.75rem;
  font-weight: 700;
}

.memberHoverPresence.active {
  color: var(--status-active);
}

.memberHoverPresence.away {
  color: var(--status-away);
}

.memberHoverPresence.busy {
  color: var(--status-busy);
}

.memberHoverPresence.offline {
  color: var(--muted);
}

.memberHoverBio {
  margin: 0;
  color: var(--text);
  font-size: 0.78rem;
  line-height: 1.3;
}

.membersRoleGroup {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.membersRoleTitle {
  margin: 4px 2px 0;
  color: var(--role-color, var(--muted));
  font-size: 0.72rem;
  font-weight: 800;
  letter-spacing: 0.05em;
  text-transform: uppercase;
}

.memberRoleInlineList,
.glytchMemberRoleList {
  display: inline-flex;
  flex-wrap: wrap;
  gap: 4px;
  align-items: center;
}

.roleColorBadge {
  --role-color: var(--muted);
  border: 1px solid color-mix(in srgb, var(--role-color), transparent 55%);
  background: color-mix(in srgb, var(--role-color), transparent 84%);
  color: var(--role-color);
  border-radius: 999px;
  padding: 1px 7px;
  font-size: 0.68rem;
  font-weight: 700;
  line-height: 1.25;
  white-space: nowrap;
}

.glytchMemberMain {
  min-width: 0;
}

.glytchMemberMeta {
  display: flex;
  flex-direction: column;
  min-width: 0;
}

.glytchMemberNameRow {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  min-width: 0;
}

.ownerCrown {
  display: inline-flex;
  align-items: center;
  line-height: 1;
  font-size: 0.9em;
}

.presentingBadge {
  border: 1px solid color-mix(in srgb, var(--accent-strong), #000 10%);
  border-radius: 999px;
  padding: 1px 7px;
  font-size: 0.64rem;
  font-weight: 700;
  color: var(--text-on-accent);
  background: color-mix(in srgb, var(--accent), var(--panel) 70%);
  white-space: nowrap;
}

.glytchMemberStatus {
  min-width: 74px;
  font-size: 0.78rem;
  font-weight: 700;
  text-align: right;
}

.glytchMemberStatus.active {
  color: var(--status-active);
}

.glytchMemberStatus.away {
  color: var(--status-away);
}

.glytchMemberStatus.busy {
  color: var(--status-busy);
}

.glytchMemberStatus.offline {
  color: var(--muted);
}

.friendAvatar {
  width: 28px;
  height: 28px;
  border-radius: 50%;
  overflow: hidden;
  display: grid;
  place-items: center;
  background: var(--accent);
  color: var(--text-on-accent);
  font-size: 0.72rem;
  font-weight: 700;
  flex: 0 0 28px;
}

.friendAvatar.withPresence {
  position: relative;
}

.voiceSpeakingAvatar {
  box-shadow: 0 0 0 2px var(--voice-speaking-ring-color, #46d28f);
}

.voiceStateAvatar {
  box-shadow: 0 0 0 2px #d64564;
}

.voiceMutedAvatar {
  box-shadow: 0 0 0 2px #d64564;
}

.voiceDeafenedAvatar {
  box-shadow: 0 0 0 2px #d64564;
}

.voiceStatusBadge,
.voiceShareBadge {
  position: absolute;
  width: 14px;
  height: 14px;
  border-radius: 999px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  color: #fff;
  border: 1px solid var(--panel);
  z-index: 2;
  pointer-events: none;
}

.voiceStatusBadge {
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 16px;
  height: 16px;
  background: #d64564;
}

.voiceShareBadge {
  top: -2px;
  left: -2px;
  background: var(--accent-strong);
}

.voiceStatusBadge svg,
.voiceShareBadge svg {
  width: 9px;
  height: 9px;
}

.friendAvatar img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center;
  display: block;
}

.friendAvatar.withPresence img {
  clip-path: circle(50% at 50% 50%);
}

.presenceDot {
  position: absolute;
  right: 3px;
  bottom: 3px;
  width: 10px;
  height: 10px;
  border-radius: 999px;
  border: 2px solid var(--card);
  background: var(--status-offline);
  pointer-events: none;
  box-shadow: 0 0 0 1px color-mix(in srgb, var(--text), transparent 72%);
}

.avatarButton .presenceDot {
  right: 5px;
  bottom: 5px;
  border-color: var(--panel);
}

.presenceDot.active {
  background: var(--status-active);
}

.presenceDot.away {
  background: var(--status-away);
}

.presenceDot.busy {
  background: var(--status-busy);
}

.presenceDot.offline {
  background: var(--status-offline);
}

.signedInAs {
  margin: 0;
  color: var(--muted);
  font-size: 0.8rem;
}

.userName {
  margin: 2px 0 0;
  font-weight: 700;
}

.logoutButton {
  width: 100%;
  border: 1px solid var(--card-border);
  border-radius: 10px;
  background: transparent;
  color: var(--text);
  padding: 9px 10px;
  cursor: pointer;
}

.logoutButton:hover {
  background: var(--panel);
}

.settingsAccountActions {
  display: flex;
  justify-content: flex-end;
  margin-top: auto;
  position: sticky;
  bottom: 0;
  padding-top: 8px;
  background: color-mix(in srgb, var(--panel), transparent 12%);
}

.settingsAccountActions .logoutButton {
  width: auto;
  min-width: 120px;
}

.glytchapp {
  flex: 1;
  display: flex;
  flex-direction: column;
  min-width: 0;
  background:
    radial-gradient(700px 360px at 50% -44%, color-mix(in srgb, var(--accent), transparent 84%), transparent 66%),
    linear-gradient(180deg, color-mix(in srgb, var(--panel), transparent 22%), color-mix(in srgb, var(--bg), var(--panel) 18%));
  animation: shell-rise 0.34s ease-out both;
}

.chatLayout {
  flex: 1;
  min-height: 0;
  display: flex;
  flex-direction: column;
}

.chatLayout.withMembersPanel {
  --members-panel-width: 290px;
  flex-direction: row;
}

.glytchSelectionState {
  flex: 1;
  min-height: 0;
  display: flex;
  justify-content: stretch;
  align-items: stretch;
  padding: 18px;
}

.glytchSelectionPanel {
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  gap: 12px;
  border: 1px solid color-mix(in srgb, var(--card-border), transparent 16%);
  border-radius: 16px;
  padding: 16px;
  background:
    radial-gradient(360px 180px at 10% -20%, color-mix(in srgb, var(--accent), transparent 86%), transparent 62%),
    color-mix(in srgb, var(--card), var(--bg) 12%);
  box-shadow: var(--surface-shadow-soft);
}

.glytchSelectionActions {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 8px;
}

.glytchSelectionList {
  display: flex;
  flex-direction: column;
  gap: 8px;
  flex: 1;
  min-height: 0;
  overflow-y: auto;
  padding-right: 2px;
}

.glytchSidebarDirectory .glytchSelectionList {
  max-height: 220px;
  flex: 0 1 auto;
}

.glytchSelectionItem {
  width: 100%;
  min-height: 42px;
}

.discoverFeaturedCard {
  border: 1px solid color-mix(in srgb, var(--accent), var(--card-border) 52%);
  border-radius: 12px;
  background:
    radial-gradient(320px 140px at 0% -35%, color-mix(in srgb, var(--accent), transparent 84%), transparent 68%),
    color-mix(in srgb, var(--card), var(--panel) 36%);
  padding: 12px;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.discoverFeaturedCard button {
  align-self: flex-start;
}

.glytchSelectionState .chatInfo {
  margin: 0;
  max-width: 100%;
  text-align: left;
  border: 1px solid color-mix(in srgb, var(--card-border), transparent 16%);
  border-radius: 16px;
  padding: 16px 18px;
  background:
    radial-gradient(360px 180px at 10% -20%, color-mix(in srgb, var(--accent), transparent 86%), transparent 62%),
    color-mix(in srgb, var(--card), var(--bg) 12%);
  box-shadow: var(--surface-shadow-soft);
}

.chatStreamColumn {
  flex: 1;
  min-width: 0;
  min-height: 0;
  display: flex;
  flex-direction: column;
  position: relative;
}

.membersPanel {
  width: var(--members-panel-width);
  flex: 0 0 var(--members-panel-width);
  min-width: 0;
  border-left: 1px solid var(--panel-border);
  background: color-mix(in srgb, var(--panel), transparent 10%);
  padding: 12px 10px;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.membersPanel::-webkit-scrollbar {
  width: 10px;
}

.membersPanel::-webkit-scrollbar-thumb {
  background: var(--panel-border);
  border-radius: 999px;
}

.membersPanelResizeHandle {
  position: relative;
  flex: 0 0 12px;
  min-width: 12px;
  cursor: col-resize;
  touch-action: none;
}

.membersPanelResizeHandle::after {
  content: "";
  position: absolute;
  top: 0;
  bottom: 0;
  left: 50%;
  width: 2px;
  transform: translateX(-50%);
  background: color-mix(in srgb, var(--panel-border), transparent 40%);
  transition: background-color 0.14s ease;
}

.membersPanelResizeHandle:hover::after,
.membersPanelResizeHandle.active::after {
  background: color-mix(in srgb, var(--accent), transparent 20%);
}

.chat-header {
  height: 62px;
  position: relative;
  z-index: 6;
  display: flex;
  align-items: center;
  justify-content: space-between;
  border-bottom: 1px solid color-mix(in srgb, var(--panel-border), transparent 14%);
  padding: 0 20px;
  font-weight: 800;
  letter-spacing: 0.01em;
  background: color-mix(in srgb, var(--panel), transparent 10%);
  backdrop-filter: blur(10px);
}

.chatHeaderTitle {
  min-width: 0;
  font-family: var(--font-display);
  font-size: 0.95rem;
  letter-spacing: -0.01em;
}

.chatHeaderActions {
  display: flex;
  align-items: center;
  gap: 8px;
  overflow: visible;
}

.glytchHeaderSettingsButton .voiceButtonIcon {
  width: 22px;
  height: 22px;
}

.glytchHeaderSettingsButton .voiceButtonIcon img {
  width: 100%;
  height: 100%;
  display: block;
  object-fit: contain;
}

.quickThemeControl {
  position: relative;
  display: inline-flex;
  align-items: center;
  flex-shrink: 0;
}

.quickThemeButton {
  width: 40px;
  height: 40px;
}

.quickThemeButton .voiceButtonIcon {
  width: 20px;
  height: 20px;
}

.quickThemeButton .voiceButtonIcon svg {
  overflow: visible;
}

.quickThemePopover {
  position: absolute;
  top: calc(100% + 10px);
  right: 0;
  width: min(260px, calc(100vw - 36px));
  display: flex;
  flex-direction: column;
  gap: 10px;
  padding: 11px;
  border-radius: 10px;
  border: 1px solid var(--card-border);
  background: color-mix(in srgb, var(--panel), var(--bg) 10%);
  box-shadow: 0 12px 28px rgba(3, 8, 16, 0.45);
  z-index: 18;
}

.quickThemeTitle {
  margin: 0;
  color: var(--text);
  font-size: 0.86rem;
  font-weight: 800;
}

.quickThemeMeta {
  margin: 0;
  color: var(--muted);
  font-size: 0.75rem;
}

.quickThemeModeRow {
  display: inline-flex;
  align-items: center;
  gap: 6px;
}

.quickThemeColorGrid {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 9px;
}

.quickThemeColorGrid label {
  display: flex;
  flex-direction: column;
  gap: 5px;
  font-size: 0.76rem;
  color: var(--muted);
  font-weight: 700;
}

.quickThemeColorGrid input[type="color"] {
  width: 100%;
  border: 1px solid var(--card-border);
  border-radius: 8px;
  background: var(--panel);
  min-height: 34px;
  padding: 2px;
  cursor: pointer;
}

.quickThemeImageStack {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.quickThemeImageStack label {
  display: flex;
  flex-direction: column;
  gap: 5px;
  font-size: 0.76rem;
  color: var(--muted);
  font-weight: 700;
}

.quickThemeImageStack input[type="url"] {
  border: 1px solid var(--card-border);
  border-radius: 8px;
  background: var(--panel);
  color: var(--text);
  font-size: 0.78rem;
  padding: 7px 9px;
}

.quickThemeUploadButton {
  border: 1px solid var(--card-border);
  border-radius: 8px;
  background: var(--panel);
  color: var(--text);
  padding: 8px 10px;
  cursor: pointer;
  font-size: 0.76rem;
  font-weight: 700;
  text-align: center;
}

.quickThemeUploadButton input {
  display: none;
}

.quickThemeImagePreview {
  border: 1px solid var(--card-border);
  border-radius: 8px;
  overflow: hidden;
  background: var(--panel);
}

.quickThemeImagePreview img {
  width: 100%;
  height: 92px;
  object-fit: cover;
  display: block;
}

.quickThemeActions {
  display: flex;
  align-items: center;
  gap: 8px;
}

.quickThemeError {
  margin: 0;
  color: var(--status-busy);
  font-size: 0.75rem;
  font-weight: 700;
}

.screenShareHeaderControls {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 4px 8px;
  border: 1px solid var(--card-border);
  border-radius: 8px;
  background: color-mix(in srgb, var(--panel), transparent 10%);
}

.screenShareControl {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  color: var(--muted);
  font-size: 0.78rem;
  font-weight: 700;
}

.screenShareControl.toggle input {
  margin: 0;
}

.screenShareControl.source select {
  max-width: 190px;
  border: 1px solid var(--card-border);
  border-radius: 7px;
  background: var(--panel);
  color: var(--text);
  font-size: 0.78rem;
  padding: 4px 8px;
}

.voiceButton {
  border: 1px solid color-mix(in srgb, var(--card-border), transparent 22%);
  border-radius: 10px;
  background: color-mix(in srgb, var(--panel), var(--bg) 12%);
  color: var(--text);
  font-weight: 700;
  padding: 7px 10px;
  cursor: pointer;
  transition: transform 0.16s ease, border-color 0.16s ease, background-color 0.16s ease;
}

.voiceButton.iconOnly {
  width: 38px;
  height: 38px;
  padding: 0;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

.voiceButtonIcon {
  width: 18px;
  height: 18px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

.voiceButtonIcon svg {
  width: 100%;
  height: 100%;
}

.voiceButton:hover {
  transform: translateY(-1px);
  background: color-mix(in srgb, var(--accent), var(--panel) 72%);
  border-color: color-mix(in srgb, var(--accent), var(--card-border) 36%);
}

.voiceButton.active {
  border-color: color-mix(in srgb, var(--accent), #fff 20%);
  background: color-mix(in srgb, var(--accent), var(--panel) 72%);
}

.voiceButton:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.voiceButton:disabled:hover {
  background: var(--panel);
}

.voiceButton.danger {
  border-color: color-mix(in srgb, #d64564, var(--panel) 50%);
}

.voiceButton.compact {
  padding: 6px 8px;
  font-size: 0.78rem;
}

.voiceButton.callActionButton {
  position: relative;
  overflow: visible;
}

.voiceCallBadge {
  position: absolute;
  top: -7px;
  right: -7px;
  min-width: 18px;
  height: 18px;
  border-radius: 999px;
  padding: 0 5px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  background: #d62839;
  color: #ffffff;
  border: 1px solid rgba(255, 255, 255, 0.22);
  box-shadow: 0 6px 14px color-mix(in srgb, #000000, transparent 78%);
  font-size: 0.64rem;
  font-weight: 800;
  line-height: 1;
  pointer-events: none;
}

.profileHeaderButton {
  border: 0;
  background: transparent;
  color: inherit;
  font: inherit;
  font-weight: 800;
  cursor: pointer;
  padding: 0;
}

.profileHeaderButton:hover {
  text-decoration: underline;
}

.messagedisplay {
  flex: 1;
  overflow-y: auto;
  padding: 20px 22px;
  display: flex;
  flex-direction: column;
  gap: 14px;
}

.messagedisplay.forceDefaultBackground {
  background-image: linear-gradient(165deg, var(--chat-bg-from), var(--chat-bg-to)) !important;
  background-size: auto !important;
  background-position: initial !important;
  background-repeat: repeat !important;
}

.messageScrollToLatestButton {
  position: sticky;
  bottom: 10px;
  align-self: center;
  border: 1px solid color-mix(in srgb, var(--accent), var(--card-border) 28%);
  background: color-mix(in srgb, var(--panel), var(--bg) 10%);
  color: var(--text);
  border-radius: 999px;
  padding: 7px 12px;
  font-size: 0.78rem;
  font-weight: 700;
  cursor: pointer;
  z-index: 4;
  box-shadow: 0 10px 20px color-mix(in srgb, #000000, transparent 78%);
}

.messageScrollToLatestButton:hover {
  border-color: color-mix(in srgb, var(--accent), #ffffff 16%);
  background: color-mix(in srgb, var(--accent), var(--panel) 82%);
}

.messageRow {
  display: flex;
  align-items: flex-end;
  gap: 8px;
  max-width: 68%;
}

.messageRow.fromMe {
  margin-left: auto;
  flex-direction: row-reverse;
}

.messageRow.fromOther {
  margin-right: auto;
  flex-direction: row;
}

.messageContextMenu {
  position: absolute;
  z-index: 30;
  min-width: 220px;
  display: flex;
  flex-direction: column;
  gap: 4px;
  border: 1px solid color-mix(in srgb, var(--card-border), transparent 10%);
  border-radius: 10px;
  padding: 6px;
  background: color-mix(in srgb, var(--card), var(--bg) 12%);
  box-shadow: 0 14px 30px color-mix(in srgb, #000000, transparent 72%);
}

.messageContextMenuToggle {
  width: 36px;
  height: 32px;
  border: 1px solid var(--card-border);
  border-radius: 999px;
  background: var(--card);
  color: var(--text);
  font-size: 1rem;
  line-height: 1;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
}

.messageContextMenuToggle:hover,
.messageContextMenuToggle.active {
  border-color: color-mix(in srgb, var(--accent), #000 16%);
  background: color-mix(in srgb, var(--accent), var(--panel) 80%);
}

.messageContextMenuLabel {
  margin: 2px 2px 0;
  color: var(--muted);
  font-size: 0.68rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.06em;
}

.messageContextMenuReactions {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  margin: 0 0 2px;
  max-height: 172px;
  overflow-y: auto;
  padding-right: 2px;
}

.messageContextMenuReaction {
  border: 1px solid var(--card-border);
  border-radius: 999px;
  background: var(--card);
  color: var(--text);
  font-size: 0.85rem;
  line-height: 1;
  padding: 5px 9px;
  cursor: pointer;
}

.messageContextMenuReaction:hover {
  border-color: color-mix(in srgb, var(--accent), #000 16%);
  background: color-mix(in srgb, var(--accent), var(--panel) 82%);
}

.messageContextMenuReaction.active {
  border-color: color-mix(in srgb, var(--accent), #000 16%);
  background: color-mix(in srgb, var(--accent), var(--panel) 78%);
}

.messageContextMenuReaction:disabled {
  opacity: 0.62;
  cursor: not-allowed;
}

.messageContextMenuItem {
  border: 1px solid transparent;
  border-radius: 8px;
  padding: 8px 10px;
  background: transparent;
  color: var(--text);
  font-size: 0.8rem;
  font-weight: 700;
  text-align: left;
  cursor: pointer;
}

.messageContextMenuItem:hover {
  background: color-mix(in srgb, var(--warn), var(--panel) 40%);
  border-color: color-mix(in srgb, var(--accent), var(--card-border) 35%);
}

.messageContextMenuItem.danger {
  color: #ff9caf;
}

.messageContextMenuItem.danger:hover {
  background: color-mix(in srgb, #d64564, transparent 80%);
  border-color: color-mix(in srgb, #d64564, var(--card-border) 35%);
}

.messageContent {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.fromMe .messageContent {
  align-items: flex-end;
}

.fromOther .messageContent {
  align-items: flex-start;
}

.messageAvatar {
  width: 32px;
  height: 32px;
  border-radius: 999px;
  background: rgba(142, 174, 251, 0.25);
  border: 1px solid rgba(95, 113, 150, 0.2);
  color: var(--text);
  font-size: 0.72rem;
  font-weight: 800;
  overflow: hidden;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.messageAvatar img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.msg {
  border-radius: 15px;
  padding: 11px 14px;
  line-height: 1.4;
  word-break: break-word;
  border: 1px solid color-mix(in srgb, var(--card-border), transparent 26%);
  box-shadow: 0 8px 16px color-mix(in srgb, var(--bg), transparent 84%);
}

.dmInviteCard {
  width: min(340px, 62vw);
  max-width: 100%;
  border-radius: 13px;
  border: 1px solid color-mix(in srgb, var(--accent), #000000 18%);
  background: color-mix(in srgb, var(--accent), var(--panel) 78%);
  padding: 10px 12px;
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.dmInviteHeader {
  display: flex;
  align-items: center;
  gap: 8px;
  min-width: 0;
}

.dmInviteIcon {
  width: 28px;
  height: 28px;
  border-radius: 8px;
  overflow: hidden;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  background: color-mix(in srgb, var(--accent), var(--panel) 35%);
  color: var(--text);
  font-size: 0.7rem;
  font-weight: 800;
  flex: 0 0 28px;
}

.dmInviteIcon img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.dmInviteHeaderText {
  display: flex;
  flex-direction: column;
  min-width: 0;
  gap: 2px;
}

.dmInviteTitle {
  margin: 0;
  color: var(--text);
  font-size: 0.9rem;
  font-weight: 700;
  line-height: 1.3;
}

.dmInviteMeta {
  margin: 0;
  color: var(--muted);
  font-size: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.dmInviteJoinButton {
  align-self: flex-start;
  border: 0;
  border-radius: 8px;
  padding: 7px 12px;
  background: var(--accent-strong);
  color: #ffffff;
  cursor: pointer;
  font-weight: 700;
  font-size: 0.82rem;
}

.dmInviteActionRow {
  display: inline-flex;
  align-items: center;
  gap: 8px;
}

.dmInviteJoinButton:disabled {
  opacity: 0.65;
  cursor: not-allowed;
}

.dmInviteRejectButton {
  border: 1px solid var(--card-border);
  border-radius: 8px;
  padding: 7px 12px;
  background: color-mix(in srgb, var(--panel), var(--bg) 18%);
  color: var(--text);
  cursor: pointer;
  font-weight: 700;
  font-size: 0.82rem;
}

.dmInviteRejectButton:disabled {
  opacity: 0.65;
  cursor: not-allowed;
}

.messageBody {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.messageReplyBlock {
  display: flex;
  flex-direction: column;
  gap: 2px;
  max-width: min(340px, 62vw);
  border-left: 2px solid color-mix(in srgb, var(--accent), var(--card-border) 35%);
  padding-left: 9px;
  margin: 0 0 2px;
}

.messageReplyLabel {
  margin: 0;
  font-size: 0.73rem;
  font-weight: 700;
  color: color-mix(in srgb, var(--text), var(--muted) 42%);
}

.messageReplyText {
  margin: 0;
  font-size: 0.74rem;
  color: var(--muted);
  line-height: 1.25;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.messageReactions {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  align-items: center;
}

.messageReactionChip,
.messageReactionAdd,
.messageReactionOption {
  border: 1px solid var(--card-border);
  border-radius: 999px;
  background: var(--card);
  color: var(--text);
  font-size: 0.77rem;
  line-height: 1;
  padding: 5px 9px;
  cursor: pointer;
}

.messageReactionChip {
  display: inline-flex;
  align-items: center;
  gap: 4px;
}

.messageReactionChip.mine,
.messageReactionOption.active,
.messageReactionAdd.active {
  border-color: color-mix(in srgb, var(--accent), #000 16%);
  background: color-mix(in srgb, var(--accent), var(--panel) 78%);
}

.messageReactionAdd {
  padding: 5px 8px;
  display: none;
  align-items: center;
  justify-content: center;
}

.messageRow:hover .messageReactionAdd,
.messageRow:focus-within .messageReactionAdd,
.messageReactionAdd.active {
  display: inline-flex;
}

@media (hover: none) {
  .messageReactionAdd {
    display: inline-flex;
  }
}

.messageReactionPicker {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  padding: 7px 8px;
  border: 1px solid var(--card-border);
  border-radius: 11px;
  background: var(--card);
}

.messageDateDivider {
  margin: 6px 0 2px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.messageDateDivider span {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 3px 10px;
  border-radius: 999px;
  border: 1px solid color-mix(in srgb, var(--card-border), transparent 10%);
  background: color-mix(in srgb, var(--panel), var(--bg) 10%);
  color: var(--muted);
  font-size: 0.7rem;
  font-weight: 700;
  letter-spacing: 0.03em;
}

.fromMe .msg {
  background: linear-gradient(145deg, color-mix(in srgb, var(--bubble-me), #ffffff 5%), var(--bubble-me));
}

.fromOther .msg {
  background: linear-gradient(145deg, color-mix(in srgb, var(--bubble-bot), #ffffff 4%), var(--bubble-bot));
}

.messageMediaLink {
  display: inline-block;
}

.messageGifShell {
  display: inline-block;
  line-height: 0;
}

.messageMedia {
  display: block;
  width: min(340px, 62vw);
  max-width: 100%;
  max-height: 320px;
  border-radius: 12px;
  object-fit: cover;
  border: 1px solid rgba(95, 113, 150, 0.2);
  background: var(--panel);
}

.messageMedia.gif {
  image-rendering: auto;
}

.messageMediaGifPlaceholder {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-height: 120px;
  max-height: 320px;
  border-style: dashed;
  border-color: color-mix(in srgb, var(--card-border), transparent 12%);
  background: color-mix(in srgb, var(--panel), var(--bg) 15%);
  color: var(--muted);
  font-size: 0.7rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  line-height: 1;
}

.senderName {
  margin: 0;
  color: var(--muted);
  font-size: 0.78rem;
}

.msgTime {
  color: var(--muted);
  font-size: 0.75rem;
}

.msgMeta {
  display: inline-flex;
  align-items: center;
  gap: 6px;
}

.msgEdited {
  color: color-mix(in srgb, var(--muted), var(--text) 12%);
  font-size: 0.72rem;
  font-weight: 600;
}

.messageEditForm {
  display: grid;
  gap: 8px;
  width: min(480px, 100%);
}

.messageEditForm input {
  width: 100%;
}

.messageEditActions {
  display: inline-flex;
  align-items: center;
  gap: 8px;
}

.msgSeen {
  color: var(--status-active);
  font-size: 0.73rem;
  font-weight: 700;
}

.chatInfo {
  margin: 0;
  color: color-mix(in srgb, var(--muted), var(--text) 8%);
  font-size: 0.9rem;
  line-height: 1.45;
}

.voicePanel {
  border: 1px solid color-mix(in srgb, var(--card-border), transparent 20%);
  border-radius: 14px;
  background: color-mix(in srgb, var(--card), transparent 6%);
  padding: 10px;
  display: flex;
  flex-direction: column;
  gap: 8px;
  box-shadow: var(--surface-shadow-soft);
  backdrop-filter: blur(10px);
}

.dmVoicePanelTop {
  margin: 12px 18px 0;
  flex: 0 0 auto;
}

.screenSharePanel {
  margin: 12px 18px 0;
  flex: 0 0 auto;
}

.screenSharePanelHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
}

.screenSharePanelHeader .sectionLabel {
  margin: 0;
}

.screenSharePanelActions {
  display: flex;
  align-items: center;
  gap: 8px;
}

.screenShareDismissButton {
  flex: 0 0 auto;
}

.screenShareBody {
  display: grid;
  gap: 10px;
  grid-template-columns: minmax(190px, 230px) minmax(0, 1fr);
  align-items: stretch;
}

.screenSharePresenterList {
  display: flex;
  flex-direction: column;
  gap: 8px;
  max-height: 280px;
  overflow: auto;
  padding-right: 2px;
}

.screenSharePresenterButton {
  display: flex;
  align-items: center;
  gap: 8px;
  width: 100%;
  border: 1px solid color-mix(in srgb, var(--card-border), transparent 10%);
  border-radius: 10px;
  background: color-mix(in srgb, var(--panel), transparent 12%);
  color: var(--text);
  padding: 8px;
  cursor: pointer;
  text-align: left;
  transition: border-color 0.16s ease, background-color 0.16s ease, transform 0.16s ease;
}

.screenSharePresenterButton:hover {
  transform: translateY(-1px);
  border-color: color-mix(in srgb, var(--accent), var(--card-border) 45%);
  background: color-mix(in srgb, var(--accent), var(--panel) 86%);
}

.screenSharePresenterButton.active {
  border-color: color-mix(in srgb, var(--accent), #fff 20%);
  background: color-mix(in srgb, var(--accent), var(--panel) 76%);
}

.screenSharePresenterAvatar {
  width: 28px;
  height: 28px;
  border-radius: 50%;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  background: color-mix(in srgb, var(--bg), var(--panel) 30%);
  border: 1px solid color-mix(in srgb, var(--card-border), transparent 10%);
  font-size: 0.7rem;
  font-weight: 800;
  color: var(--text);
  flex: 0 0 auto;
}

.screenSharePresenterMeta {
  min-width: 0;
  display: flex;
  flex-direction: column;
  line-height: 1.15;
}

.screenSharePresenterName {
  font-size: 0.78rem;
  font-weight: 700;
  color: var(--text);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.screenSharePresenterState {
  font-size: 0.67rem;
  font-weight: 700;
  color: color-mix(in srgb, var(--text), transparent 30%);
  text-transform: uppercase;
  letter-spacing: 0.04em;
}

.screenShareViewer {
  min-height: 0;
}

@media (max-width: 900px) {
  .screenShareBody {
    grid-template-columns: 1fr;
  }

  .screenSharePresenterList {
    flex-direction: row;
    max-height: none;
    overflow-x: auto;
    overflow-y: hidden;
    padding-bottom: 2px;
  }

  .screenSharePresenterButton {
    min-width: 170px;
  }
}

.voiceEngineDebugPanel {
  position: fixed;
  right: 18px;
  bottom: 18px;
  width: min(390px, calc(100vw - 28px));
  border-radius: 14px;
  border: 1px solid color-mix(in srgb, var(--accent), var(--panel-border) 76%);
  background: color-mix(in srgb, var(--panel), #000 10%);
  box-shadow: 0 18px 42px rgba(0, 0, 0, 0.38);
  z-index: 90;
  padding: 12px;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.voiceEngineDebugHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
}

.voiceEngineDebugHeader .sectionLabel {
  margin: 0;
}

.voiceEngineDebugGrid {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 8px;
}

.voiceEngineDebugMetricCard {
  border: 1px solid color-mix(in srgb, var(--panel-border), transparent 22%);
  border-radius: 10px;
  padding: 8px;
  display: flex;
  flex-direction: column;
  gap: 6px;
  background: color-mix(in srgb, var(--card), transparent 12%);
}

.voiceEngineDebugMetricCard header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
  font-size: 0.72rem;
  color: var(--muted);
}

.voiceEngineDebugMetricCard header strong {
  color: var(--text);
  font-size: 0.79rem;
}

.voiceEngineDebugMetricCard svg {
  width: 100%;
  height: 34px;
  display: block;
  border-radius: 8px;
  background: color-mix(in srgb, var(--bg), var(--panel) 60%);
}

.voiceEngineDebugMetricCard svg path {
  fill: none;
  stroke: color-mix(in srgb, var(--accent-strong), #fff 10%);
  stroke-width: 2;
  stroke-linecap: round;
  stroke-linejoin: round;
}

@media (max-width: 900px) {
  .voiceEngineDebugPanel {
    right: 10px;
    left: 10px;
    width: auto;
    bottom: 10px;
    padding: 10px;
  }

  .voiceEngineDebugGrid {
    grid-template-columns: 1fr;
  }
}

.screenShareTile {
  margin: 0;
  border: 1px solid var(--card-border);
  border-radius: 10px;
  overflow: hidden;
  background: color-mix(in srgb, var(--panel), transparent 22%);
  cursor: pointer;
  position: relative;
}

.screenShareTile:focus-visible {
  outline: 2px solid var(--accent-strong);
  outline-offset: 2px;
}

.screenShareExitFullscreenButton {
  position: absolute;
  top: 8px;
  right: 8px;
  z-index: 2;
  border: 1px solid color-mix(in srgb, var(--panel-border), transparent 20%);
  border-radius: 8px;
  background: color-mix(in srgb, #0f172a, var(--panel) 16%);
  color: #f8fafc;
  font-size: 0.72rem;
  font-weight: 700;
  padding: 5px 8px;
  cursor: pointer;
  display: none;
}

.screenShareTile:fullscreen .screenShareExitFullscreenButton,
.screenShareTile:-webkit-full-screen .screenShareExitFullscreenButton {
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

.screenShareExitFullscreenButton:hover {
  background: color-mix(in srgb, #0f172a, var(--panel) 28%);
}

.screenShareTile video {
  width: 100%;
  display: block;
  aspect-ratio: 16 / 9;
  object-fit: cover;
  background: #0f172a;
}

.screenShareTile figcaption {
  padding: 7px 8px;
  font-size: 0.78rem;
  font-weight: 700;
  color: var(--text);
}

.screenShareTile.self figcaption {
  color: var(--status-active);
}

.voiceButton.screenShareActive {
  border-color: var(--accent-strong);
  background: color-mix(in srgb, var(--accent), var(--panel) 72%);
}

.voiceParticipants {
  display: grid;
  gap: 6px;
}

.voiceParticipants.avatarOnly {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  justify-content: center;
  gap: 14px;
  padding: 6px 0;
}

.voiceAvatarOnlyButton {
  border: 0;
  background: transparent;
  border-radius: 999px;
  padding: 0;
  cursor: pointer;
  line-height: 0;
}

.voiceAvatarOnlyButton:focus-visible {
  outline: 2px solid color-mix(in srgb, var(--accent-strong), transparent 20%);
  outline-offset: 2px;
}

.voiceParticipant {
  display: flex;
  align-items: center;
  gap: 8px;
  border: 1px solid transparent;
  border-radius: 10px;
  padding: 4px 6px;
}

.voiceParticipant.speaking {
  border-color: var(--accent-strong);
  background: color-mix(in srgb, var(--accent), transparent 70%);
}

.friendAvatar.voiceAvatarOnly {
  width: 52px;
  height: 52px;
  flex: 0 0 52px;
  font-size: 1rem;
}

.friendAvatar.voiceAvatarOnly .voiceStatusBadge,
.friendAvatar.voiceAvatarOnly .voiceShareBadge {
  width: 18px;
  height: 18px;
}

.friendAvatar.voiceAvatarOnly .voiceStatusBadge {
  width: 22px;
  height: 22px;
}

.friendAvatar.voiceAvatarOnly .voiceStatusBadge svg,
.friendAvatar.voiceAvatarOnly .voiceShareBadge svg {
  width: 11px;
  height: 11px;
}

.friendAvatar.voiceAvatarOnly .voiceStatusBadge svg {
  width: 13px;
  height: 13px;
}

.voiceParticipants.avatarOnly .presenceDot {
  right: 4px;
  bottom: 4px;
  border-color: var(--panel);
}

.voiceParticipantName {
  min-width: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  font-weight: 700;
}

.voiceParticipantControls {
  margin-left: auto;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  flex-wrap: wrap;
  justify-content: flex-end;
}

.voiceModerationControls {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  flex-wrap: wrap;
}

.voiceModerationButton {
  border: 1px solid var(--card-border);
  border-radius: 999px;
  background: color-mix(in srgb, var(--panel), transparent 12%);
  color: var(--text);
  padding: 4px 9px;
  font-size: 0.72rem;
  font-weight: 700;
  cursor: pointer;
}

.voiceModerationButton:hover:not(:disabled) {
  background: var(--accent);
  border-color: var(--accent-strong);
}

.voiceModerationButton.active {
  background: color-mix(in srgb, var(--accent), var(--panel) 58%);
  border-color: color-mix(in srgb, var(--accent), #ffffff 16%);
}

.voiceModerationButton.danger {
  border-color: color-mix(in srgb, #d64564, var(--panel) 35%);
  color: #ff9caf;
  background: color-mix(in srgb, #d64564, transparent 82%);
}

.voiceModerationButton:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.voicePermissionActionRow {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.voicePanelTopActions {
  display: inline-flex;
  position: relative;
  align-self: flex-start;
}

.soundboardPopover {
  position: absolute;
  top: calc(100% + 8px);
  right: 0;
  z-index: 16;
  width: min(420px, calc(100vw - 90px));
  max-height: 300px;
  overflow: auto;
  border: 1px solid color-mix(in srgb, var(--card-border), transparent 16%);
  border-radius: 12px;
  padding: 10px;
  background: color-mix(in srgb, var(--card), var(--bg) 15%);
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.talkingTag {
  font-size: 0.75rem;
  color: var(--status-active);
  font-weight: 700;
}

.mutedTag {
  font-size: 0.75rem;
  color: var(--muted);
}

.voiceVolumeControl {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 2px 6px;
  border: 1px solid var(--card-border);
  border-radius: 999px;
  background: color-mix(in srgb, var(--panel), transparent 8%);
}

.voiceVolumeControl input {
  width: 94px;
  accent-color: var(--accent-strong);
}

.voiceVolumeLabel {
  font-size: 0.72rem;
  font-weight: 700;
  color: var(--muted);
}

.voiceVolumeValue {
  min-width: 40px;
  text-align: right;
  font-size: 0.72rem;
  font-weight: 700;
  color: var(--text);
}

.chatError {
  margin: 0;
  color: var(--hot);
  font-size: 0.9rem;
}

.messageSubmitArea {
  display: flex;
  gap: 8px;
  align-items: center;
  padding: 14px 16px;
  border-top: 1px solid color-mix(in srgb, var(--panel-border), transparent 18%);
  background: color-mix(in srgb, var(--panel), transparent 8%);
  backdrop-filter: blur(8px);
}

.messageSubmitArea input {
  flex: 1;
  border: 1px solid color-mix(in srgb, var(--card-border), transparent 18%);
  border-radius: 12px;
  padding: 12px;
  background: color-mix(in srgb, var(--card), var(--bg) 8%);
  color: var(--text);
  outline: none;
  transition: border-color 0.16s ease, background-color 0.16s ease;
}

.messageSubmitArea input:disabled {
  opacity: 0.65;
}

.messageSubmitArea input:focus {
  border-color: var(--accent);
  background: color-mix(in srgb, var(--card), #ffffff 2%);
}

.messageSubmitArea button {
  border: 0;
  border-radius: 12px;
  padding: 0 16px;
  min-height: 42px;
  background: linear-gradient(130deg, color-mix(in srgb, var(--accent), #fff 12%), var(--accent-strong));
  color: var(--text-on-accent);
  font-weight: 700;
  cursor: pointer;
  transition: transform 0.16s ease, filter 0.16s ease;
}

.messageSubmitArea button:hover:not(:disabled) {
  transform: translateY(-1px);
  filter: brightness(1.04);
}

.messageSubmitArea button:disabled {
  opacity: 0.55;
  cursor: not-allowed;
}

.composerIconButton {
  width: 38px;
  height: 38px;
  border: 1px solid color-mix(in srgb, var(--card-border), transparent 18%);
  border-radius: 12px;
  background: color-mix(in srgb, var(--card), var(--bg) 8%);
  color: var(--text);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  font-size: 1.03rem;
  flex: 0 0 38px;
  transition: transform 0.16s ease, border-color 0.16s ease, background-color 0.16s ease;
}

.composerIconButton:hover:not(:disabled) {
  transform: translateY(-1px);
  background: color-mix(in srgb, var(--accent), var(--panel) 70%);
  border-color: color-mix(in srgb, var(--accent), var(--card-border) 34%);
}

.composerIconButton.active {
  background: color-mix(in srgb, var(--accent), var(--panel) 66%);
  border-color: color-mix(in srgb, var(--accent), #fff 22%);
}

.composerIconButton:disabled {
  opacity: 0.55;
  cursor: not-allowed;
}

.composerIconButton input {
  display: none;
}

.composerReplyPreview {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 10px 16px;
  border-top: 1px solid color-mix(in srgb, var(--panel-border), transparent 18%);
  background: color-mix(in srgb, var(--panel), var(--bg) 14%);
}

.composerReplyMeta {
  display: flex;
  flex-direction: column;
  min-width: 0;
  gap: 1px;
}

.composerReplyMeta span {
  font-size: 0.8rem;
  font-weight: 700;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.composerReplyMeta small {
  color: var(--muted);
  font-size: 0.76rem;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  max-width: 320px;
}

.composerReplyPreview button {
  margin-left: auto;
  border: 1px solid var(--card-border);
  border-radius: 8px;
  background: var(--card);
  color: var(--text);
  padding: 6px 10px;
  cursor: pointer;
}

.composerAttachmentPreview {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 10px 16px;
  border-top: 1px solid color-mix(in srgb, var(--panel-border), transparent 18%);
  background: color-mix(in srgb, var(--panel), var(--bg) 14%);
}

.composerAttachmentPreview img {
  width: 48px;
  height: 48px;
  border-radius: 10px;
  object-fit: cover;
  border: 1px solid var(--card-border);
}

.composerAttachmentMeta {
  display: flex;
  flex-direction: column;
  min-width: 0;
  gap: 1px;
}

.composerAttachmentMeta span {
  font-size: 0.86rem;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  max-width: 220px;
}

.composerAttachmentMeta small {
  color: var(--muted);
}

.composerAttachmentPreview button {
  margin-left: auto;
  border: 1px solid var(--card-border);
  border-radius: 8px;
  background: var(--card);
  color: var(--text);
  padding: 6px 10px;
  cursor: pointer;
}

.emojiPicker {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  padding: 8px 14px;
  border-top: 1px solid var(--panel-border);
  background: color-mix(in srgb, var(--panel), transparent 10%);
  max-height: 220px;
  overflow-y: auto;
}

.emojiPicker button {
  border: 1px solid var(--card-border);
  border-radius: 8px;
  background: var(--card);
  width: 34px;
  height: 34px;
  cursor: pointer;
  font-size: 1rem;
}

.gifPicker {
  display: flex;
  flex-direction: column;
  gap: 8px;
  padding: 8px 14px;
  border-top: 1px solid var(--panel-border);
  background: color-mix(in srgb, var(--panel), transparent 10%);
}

.gifPickerTopBar input {
  width: 100%;
  border: 1px solid var(--card-border);
  border-radius: 8px;
  padding: 8px 10px;
  background: var(--card);
  color: var(--text);
  outline: none;
}

.gifGrid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
  gap: 8px;
  max-height: 220px;
  overflow-y: auto;
}

.gifTile {
  border: 1px solid var(--card-border);
  border-radius: 8px;
  padding: 0;
  background: var(--card);
  cursor: pointer;
  overflow: hidden;
}

.gifTile img {
  width: 100%;
  height: 88px;
  object-fit: cover;
  display: block;
}

.gifAttribution {
  margin: 0;
  font-size: 0.72rem;
  color: var(--muted);
}

.gifAttribution a {
  color: inherit;
  text-decoration: underline;
}

.settingsPage {
  flex: 1;
  overflow-y: auto;
  padding: 20px;
  display: flex;
  flex-direction: column;
  gap: 14px;
  background:
    radial-gradient(520px 220px at -10% -20%, color-mix(in srgb, var(--accent), transparent 88%), transparent 72%),
    linear-gradient(170deg, color-mix(in srgb, var(--panel), transparent 12%), color-mix(in srgb, var(--bg), var(--panel) 15%));
}

.patchNotesPage {
  overflow: hidden;
}

.patchNotesLayout {
  display: flex;
  flex-direction: column;
  flex: 1;
  min-height: 0;
}

.patchNotesVersionsPanel {
  border: 1px solid color-mix(in srgb, var(--card-border), transparent 20%);
  border-radius: 14px;
  padding: 10px;
  background: color-mix(in srgb, var(--panel), var(--bg) 10%);
  display: flex;
  flex-direction: column;
  gap: 8px;
  min-height: 0;
}

.patchNotesVersionsList {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.patchNotesMessagePanel {
  display: flex;
  flex-direction: column;
  gap: 10px;
  min-height: 0;
  overflow-y: auto;
  padding-right: 4px;
}

.patchNotesEntryHeader h2 {
  margin: 0;
  font-size: 1.2rem;
}

.patchNotesEntryHeader p {
  margin: 2px 0 0;
}

.patchNotesSectionCard {
  gap: 8px;
}

.patchNotesBulletList {
  margin: 0;
  padding-left: 16px;
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.patchNotesSidebarVersions {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

@media (max-width: 900px) {
  .patchNotesVersionsList {
    flex-direction: row;
    flex-wrap: wrap;
  }

  .patchNotesVersionsList .tab {
    flex: 1 1 120px;
  }
}

.settingsTopTabs {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 8px;
}

.settingsTabs {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: 8px;
}

.settingsSubTabs {
  border: 1px solid color-mix(in srgb, var(--card-border), transparent 28%);
  border-radius: 12px;
  padding: 6px;
  background: color-mix(in srgb, var(--card), var(--bg) 15%);
}

.settingsForm {
  display: flex;
  flex-direction: column;
  gap: 13px;
  background: color-mix(in srgb, var(--card), transparent 5%);
  border: 1px solid color-mix(in srgb, var(--card-border), transparent 18%);
  border-radius: 15px;
  padding: 16px;
  box-shadow: var(--surface-shadow-soft);
  backdrop-filter: blur(9px);
  animation: shell-rise 0.2s ease-out both;
}

.settingsForm label {
  display: flex;
  flex-direction: column;
  gap: 6px;
  font-size: 0.9rem;
}

.settingsForm input,
.settingsForm textarea,
.settingsForm select {
  border: 1px solid color-mix(in srgb, var(--card-border), transparent 16%);
  border-radius: 11px;
  padding: 9px 10px;
  background: color-mix(in srgb, var(--panel), var(--bg) 8%);
  color: var(--text);
  transition: border-color 0.16s ease, background-color 0.16s ease;
}

.settingsForm input:focus,
.settingsForm textarea:focus,
.settingsForm select:focus {
  outline: none;
  border-color: var(--accent);
  background: color-mix(in srgb, var(--panel), #ffffff 2%);
}

.settingsForm button {
  border: 0;
  border-radius: 11px;
  background: linear-gradient(130deg, color-mix(in srgb, var(--accent), #fff 10%), var(--accent-strong));
  color: var(--text-on-accent);
  font-weight: 700;
  padding: 10px;
  cursor: pointer;
  transition: transform 0.16s ease, filter 0.16s ease;
}

.settingsForm button:hover:not(:disabled) {
  transform: translateY(-1px);
  filter: brightness(1.04);
}

.settingsForm .clearButton {
  background: color-mix(in srgb, var(--panel), var(--bg) 18%);
  border: 1px solid color-mix(in srgb, var(--card-border), transparent 14%);
  color: var(--text);
  padding: 8px 10px;
}

.micTestMeterShell {
  position: relative;
  width: 100%;
  height: 12px;
  border-radius: 999px;
  overflow: hidden;
  border: 1px solid color-mix(in srgb, var(--card-border), transparent 16%);
  background: color-mix(in srgb, var(--panel), var(--bg) 22%);
}

.micTestMeterFill {
  height: 100%;
  width: 0;
  border-radius: inherit;
  background: linear-gradient(
    90deg,
    color-mix(in srgb, var(--accent), #7bffde 30%),
    color-mix(in srgb, var(--accent-strong), #7dfcd9 20%)
  );
  transition: width 90ms linear;
}

.micTestMeterFill.warn {
  background: linear-gradient(90deg, #f7cc4d, #ff9b3a);
}

.micTestMeterFill.danger {
  background: linear-gradient(90deg, #ff8b76, #ff4f6d);
}

.micTestSamplePlayer {
  width: 100%;
}

.profileDecorationGrid {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 8px;
}

.profileAppearancePicker {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 8px;
}

.profileAppearanceOption {
  border: 1px solid color-mix(in srgb, var(--card-border), transparent 20%);
  border-radius: 12px;
  background: color-mix(in srgb, var(--panel), var(--bg) 18%);
  color: var(--text);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 9px;
  padding: 8px;
  text-align: left;
  transition: transform 0.14s ease, border-color 0.14s ease, background-color 0.14s ease;
}

.profileAppearanceOption:hover {
  transform: translateY(-1px);
  border-color: color-mix(in srgb, var(--accent), var(--card-border) 36%);
}

.profileAppearanceOption.active {
  border-color: color-mix(in srgb, var(--accent), #ffffff 24%);
  background: color-mix(in srgb, var(--accent), var(--panel) 76%);
}

.profileAppearanceAvatarPreview {
  width: 40px;
  height: 40px;
  flex: 0 0 40px;
}

.profileAppearanceMeta {
  display: flex;
  flex-direction: column;
  gap: 2px;
  min-width: 0;
}

.profileAppearanceTitle {
  font-size: 0.8rem;
  font-weight: 700;
}

.profileAppearanceHint {
  font-size: 0.7rem;
  color: var(--muted);
}

.profileBioInput {
  min-height: 92px;
  max-height: 220px;
  resize: none;
  overflow-y: hidden;
}

.profileCustomizationColorGrid {
  grid-template-columns: repeat(4, minmax(0, 1fr));
}

.showcaseUploadButton {
  width: fit-content;
}

.showcaseToolbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
  flex-wrap: wrap;
}

.showcaseCountPill {
  margin: 0;
  display: inline-flex;
  align-items: center;
  border: 1px solid color-mix(in srgb, var(--accent), var(--card-border) 38%);
  border-radius: 999px;
  padding: 4px 10px;
  font-size: 0.75rem;
  font-weight: 700;
  color: var(--muted);
  background: color-mix(in srgb, var(--panel), var(--accent) 16%);
}

.showcaseStarterButton {
  padding: 7px 12px !important;
}

.showcaseAddRow {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 10px;
}

.showcaseAddButton {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  text-align: left;
  gap: 3px;
  min-height: 72px;
  border: 1px solid color-mix(in srgb, var(--card-border), transparent 12%) !important;
  border-radius: 12px !important;
  color: var(--text) !important;
  transition: transform 0.14s ease, border-color 0.14s ease, box-shadow 0.14s ease;
}

.showcaseAddButton:hover:not(:disabled) {
  transform: translateY(-1px);
  border-color: color-mix(in srgb, var(--accent-strong), var(--card-border) 42%) !important;
  box-shadow: 0 8px 18px color-mix(in srgb, var(--accent), transparent 80%);
}

.showcaseAddButton:disabled {
  cursor: not-allowed;
  opacity: 0.56;
}

.showcaseAddButtonTitle {
  font-size: 0.88rem;
  font-weight: 800;
  letter-spacing: 0.01em;
}

.showcaseAddButtonHint {
  font-size: 0.73rem;
  color: color-mix(in srgb, var(--muted), var(--text) 16%);
  line-height: 1.35;
}

.showcaseAddButton.text {
  background: linear-gradient(138deg, color-mix(in srgb, var(--accent), var(--panel) 86%), color-mix(in srgb, var(--card), var(--bg) 84%));
}

.showcaseAddButton.links {
  background: linear-gradient(138deg, color-mix(in srgb, var(--panel), #74d3c6 20%), color-mix(in srgb, var(--card), var(--bg) 82%));
}

.showcaseAddButton.stats {
  background: linear-gradient(138deg, color-mix(in srgb, var(--panel), #f2ac6a 22%), color-mix(in srgb, var(--card), var(--bg) 82%));
}

.showcaseAddButton.gallery {
  background: linear-gradient(138deg, color-mix(in srgb, var(--panel), #8bc2ff 24%), color-mix(in srgb, var(--card), var(--bg) 82%));
}

.showcaseEditorList {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.showcaseEditorCard {
  border: 1px solid color-mix(in srgb, var(--card-border), transparent 12%);
  border-radius: 14px;
  background: radial-gradient(circle at top right, color-mix(in srgb, var(--accent), transparent 88%), transparent 48%), color-mix(in srgb, var(--panel), var(--bg) 10%);
  padding: 12px;
  display: flex;
  flex-direction: column;
  gap: 8px;
  transition: border-color 0.14s ease, background-color 0.14s ease, opacity 0.14s ease, transform 0.14s ease;
}

.showcaseEditorCard:hover {
  transform: translateY(-1px);
}

.showcaseEditorCard.dragTarget {
  border-color: var(--accent-strong);
  background: color-mix(in srgb, var(--accent), var(--panel) 72%);
}

.showcaseEditorCard.dragging {
  opacity: 0.62;
}

.showcaseEditorHeader {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 10px;
}

.showcaseEditorHeaderMain {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.showcaseKindPill {
  margin: 0;
  display: inline-flex;
  align-items: center;
  border: 1px solid transparent;
  border-radius: 999px;
  padding: 3px 9px;
  font-size: 0.72rem;
  font-weight: 800;
  letter-spacing: 0.05em;
  text-transform: uppercase;
  width: fit-content;
}

.showcaseKindPill.text {
  color: #8fd8ff;
  background: rgba(57, 124, 196, 0.24);
  border-color: rgba(110, 185, 255, 0.46);
}

.showcaseKindPill.links {
  color: #8ceecf;
  background: rgba(49, 140, 114, 0.24);
  border-color: rgba(100, 215, 179, 0.46);
}

.showcaseKindPill.stats {
  color: #ffc88a;
  background: rgba(148, 96, 43, 0.24);
  border-color: rgba(242, 165, 83, 0.48);
}

.showcaseKindPill.gallery {
  color: #b7caff;
  background: rgba(75, 97, 167, 0.24);
  border-color: rgba(148, 169, 255, 0.48);
}

.showcaseKindHint {
  margin: 0;
  font-size: 0.76rem;
  color: var(--muted);
  line-height: 1.35;
}

.showcaseEditorActions {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  flex-wrap: wrap;
}

.showcaseDragHandle {
  border: 1px dashed var(--card-border);
  border-radius: 8px;
  padding: 5px 7px;
  color: var(--muted);
  font-size: 0.86rem;
  line-height: 1;
  user-select: none;
  cursor: grab;
}

.showcaseDragHandle:active {
  cursor: grabbing;
}

.showcaseEditorActions .clearButton {
  padding: 6px 8px;
  font-size: 0.74rem;
  white-space: nowrap;
}

.showcaseEditorMeta {
  margin: -1px 0 0;
  font-size: 0.77rem;
  color: var(--muted);
}

.showcaseEditorPreview {
  display: flex;
  flex-direction: column;
  gap: 6px;
  border-top: 1px dashed color-mix(in srgb, var(--card-border), transparent 35%);
  padding-top: 8px;
}

@media (max-width: 760px) {
  .settingsTopTabs {
    grid-template-columns: 1fr;
  }

  .settingsSubTabs {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .profileDecorationGrid {
    grid-template-columns: 1fr;
  }

  .profileAppearancePicker {
    grid-template-columns: 1fr;
  }

  .profileCustomizationColorGrid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .showcaseToolbar {
    align-items: stretch;
  }

  .showcaseStarterButton {
    width: 100%;
  }

  .showcaseAddRow {
    grid-template-columns: 1fr;
  }

  .showcaseEditorHeader {
    flex-direction: column;
  }

  .showcaseEditorActions {
    justify-content: flex-end;
    width: 100%;
  }
}

.settingsToggle {
  background: var(--panel);
  border: 1px solid var(--card-border);
  border-radius: 10px;
  padding: 10px;
}

.settingsToggle.permissionToggle {
  display: grid;
  grid-template-columns: minmax(0, 1fr) auto;
  align-items: center;
  gap: 12px;
}

.settingsToggle.permissionToggle > span {
  order: 1;
}

.settingsToggle.permissionToggle input[type="checkbox"] {
  order: 2;
  appearance: none;
  width: 44px;
  height: 24px;
  border-radius: 999px;
  border: 1px solid color-mix(in srgb, var(--card-border), transparent 18%);
  background: color-mix(in srgb, var(--panel), var(--bg) 20%);
  position: relative;
  cursor: pointer;
  transition: background-color 0.16s ease, border-color 0.16s ease;
}

.settingsToggle.permissionToggle input[type="checkbox"]::before {
  content: "";
  position: absolute;
  left: 2px;
  top: 2px;
  width: 18px;
  height: 18px;
  border-radius: 50%;
  background: color-mix(in srgb, #ffffff, var(--panel) 10%);
  box-shadow: 0 1px 4px color-mix(in srgb, #000000, transparent 78%);
  transition: transform 0.16s ease;
}

.settingsToggle.permissionToggle input[type="checkbox"]:checked {
  border-color: color-mix(in srgb, var(--accent), var(--card-border) 24%);
  background: color-mix(in srgb, var(--accent), var(--panel) 22%);
}

.settingsToggle.permissionToggle input[type="checkbox"]:checked::before {
  transform: translateX(20px);
}

.settingsToggle.permissionToggle input[type="checkbox"]:disabled {
  opacity: 0.56;
  cursor: not-allowed;
}

.glytchIconEditor {
  display: flex;
  align-items: center;
  gap: 10px;
}

.glytchIconPreview {
  width: 56px;
  height: 56px;
  border-radius: 14px;
  overflow: hidden;
  display: grid;
  place-items: center;
  background: var(--panel);
  border: 1px solid var(--card-border);
  color: var(--muted);
  font-weight: 700;
}

.glytchIconPreview img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.uploadButton {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border: 0;
  border-radius: 8px;
  background: var(--accent-strong);
  color: var(--text);
  cursor: pointer;
  font-weight: 700;
  padding: 8px 10px;
}

.uploadButton input {
  display: none;
}

.settingsThumb {
  width: 100%;
  object-fit: cover;
  border-radius: 10px;
  border: 1px solid var(--card-border);
  display: block;
}

.settingsAvatarPreview {
  position: relative;
  width: fit-content;
}

.settingsThumb.avatar {
  width: 100px;
  height: 100px;
  max-width: 100px;
  aspect-ratio: 1 / 1;
  border-radius: 50%;
}

.settingsThumb.banner {
  aspect-ratio: 3 / 1;
  max-height: none;
  object-fit: contain;
  object-position: center;
}

.colorGrid {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 8px;
}

.colorGrid input[type="color"] {
  padding: 0;
  height: 36px;
}

.profilePreviewCard {
  --profile-name-color: var(--text);
  --profile-body-color: color-mix(in srgb, var(--text), #1b2f56 8%);
  --profile-showcase-accent: var(--accent);
  border: 1px solid color-mix(in srgb, var(--card-border), transparent 16%);
  border-radius: 18px;
  padding: 16px;
  color: var(--text);
  position: relative;
  overflow: hidden;
  box-shadow: var(--surface-shadow-strong);
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.profilePreviewCard.glass {
  backdrop-filter: blur(10px);
}

.profilePreviewCard.solid {
  backdrop-filter: none;
}

.profileBanner {
  aspect-ratio: 3 / 1;
  height: auto;
  border-radius: 10px;
  background: linear-gradient(
    120deg,
    color-mix(in srgb, var(--text), transparent 90%),
    color-mix(in srgb, var(--accent), transparent 92%)
  );
  background-size: cover;
  background-position: center 45%;
  background-repeat: no-repeat;
}

.profileAvatarLarge {
  width: 72px;
  height: 72px;
  min-width: 72px;
  min-height: 72px;
  aspect-ratio: 1 / 1;
  flex: 0 0 72px;
  align-self: flex-start;
  border-radius: 50%;
  border: 3px solid var(--accent);
  margin-top: -36px;
  background: var(--panel);
  overflow: hidden;
  display: grid;
  place-items: center;
  font-weight: 700;
}

.profileAvatarLarge.withPresence {
  position: relative;
  overflow: visible;
}

.profileAvatarLarge img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center;
  border-radius: inherit;
  display: block;
}

.profileAvatarMedia {
  width: 100%;
  height: 100%;
  border-radius: inherit;
  overflow: hidden;
  display: grid;
  place-items: center;
}

.profilePresenceDot {
  position: absolute;
  right: 9px;
  bottom: 9px;
  width: 14px;
  height: 14px;
  border-radius: 999px;
  border: 2px solid var(--panel);
  background: var(--status-offline);
  box-shadow: 0 0 0 1px color-mix(in srgb, var(--text), transparent 72%);
  z-index: 5;
}

.profilePresenceDot.active {
  background: var(--status-active);
}

.profilePresenceDot.away {
  background: var(--status-away);
}

.profilePresenceDot.busy {
  background: var(--status-busy);
}

.profilePresenceDot.offline {
  background: var(--status-offline);
}

.profilePresenceText {
  margin: 0 0 6px;
  font-size: 0.82rem;
  font-weight: 700;
}

.profilePresenceText.active {
  color: var(--status-active);
}

.profilePresenceText.away {
  color: var(--status-away);
}

.profilePresenceText.busy {
  color: var(--status-busy);
}

.profilePresenceText.offline {
  color: var(--muted);
}

.profilePreviewCard h2 {
  margin: 10px 0 6px;
  color: var(--profile-name-color);
}

.profileUsernameTag {
  margin: 0 0 8px;
  font-size: 0.72rem;
  font-weight: 600;
  letter-spacing: 0.01em;
  color: color-mix(in srgb, var(--muted), var(--text) 16%);
}

.profilePreviewCard p:not(.profilePresenceText):not(.profileUsernameTag):not(.sectionLabel):not(.profileCommentText):not(.smallMuted) {
  margin: 0;
  color: var(--profile-body-color);
}

.profileShowcaseList {
  margin-top: 8px;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 10px;
}

.profileShowcaseList.stack {
  grid-template-columns: 1fr;
}

.profileShowcaseCard {
  border: 1px solid color-mix(in srgb, var(--profile-showcase-accent), var(--card-border) 60%);
  border-radius: 12px;
  background: linear-gradient(
    145deg,
    color-mix(in srgb, var(--text), transparent 94%),
    color-mix(in srgb, var(--panel), var(--bg) 22%)
  );
  padding: 10px;
  display: flex;
  flex-direction: column;
  gap: 8px;
  min-height: 116px;
}

.profileShowcaseCard.showcaseStyle-glass {
  background: color-mix(in srgb, var(--card), transparent 16%);
  backdrop-filter: blur(12px);
}

.profileShowcaseCard.showcaseStyle-solid {
  background: color-mix(in srgb, var(--panel), var(--bg) 10%);
}

.profileShowcaseCard.compact {
  min-height: unset;
  padding: 9px;
}

.profileShowcaseHeadRow {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
  flex-wrap: wrap;
}

.profileShowcaseTitle {
  margin: 0;
  font-size: 0.86rem;
  font-weight: 800;
  color: color-mix(in srgb, var(--text), #0f1f3d 18%);
}

.profileShowcaseKindTag {
  display: inline-flex;
  align-items: center;
  border: 1px solid transparent;
  border-radius: 999px;
  font-size: 0.68rem;
  font-weight: 800;
  letter-spacing: 0.05em;
  text-transform: uppercase;
  padding: 2px 8px;
}

.profileShowcaseKindTag.text {
  color: #8fd8ff;
  border-color: rgba(110, 185, 255, 0.46);
  background: rgba(57, 124, 196, 0.24);
}

.profileShowcaseKindTag.links {
  color: #8ceecf;
  border-color: rgba(100, 215, 179, 0.46);
  background: rgba(49, 140, 114, 0.24);
}

.profileShowcaseKindTag.stats {
  color: #ffc88a;
  border-color: rgba(242, 165, 83, 0.48);
  background: rgba(148, 96, 43, 0.24);
}

.profileShowcaseKindTag.gallery {
  color: #b7caff;
  border-color: rgba(148, 169, 255, 0.48);
  background: rgba(75, 97, 167, 0.24);
}

.profileShowcaseText {
  margin: 0;
  line-height: 1.45;
  color: color-mix(in srgb, var(--text), #1b2f56 8%);
}

.profileShowcaseLinks {
  margin: 0;
  padding-left: 0;
  list-style: none;
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.profileShowcaseLinks li {
  display: flex;
  flex-direction: column;
  gap: 2px;
  border: 1px solid color-mix(in srgb, var(--card-border), transparent 26%);
  border-radius: 8px;
  padding: 6px 8px;
  background: color-mix(in srgb, var(--panel), var(--bg) 20%);
}

.profileShowcaseLinks a {
  color: color-mix(in srgb, #1f4c9a, var(--text) 22%);
  text-decoration: underline;
}

.profileShowcaseLinkHost {
  color: var(--muted);
  font-size: 0.68rem;
}

.profileShowcaseStats {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.profileShowcaseStatItem {
  display: flex;
  flex-direction: column;
  gap: 5px;
}

.profileShowcaseStatRow {
  margin: 0;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  border: 1px solid color-mix(in srgb, var(--card-border), transparent 26%);
  border-radius: 8px;
  padding: 6px 8px;
  background: color-mix(in srgb, var(--panel), var(--bg) 18%);
}

.profileShowcaseStatMeter {
  position: relative;
  width: 100%;
  height: 7px;
  border-radius: 999px;
  background: color-mix(in srgb, var(--panel), transparent 12%);
  overflow: hidden;
}

.profileShowcaseStatMeter span {
  position: absolute;
  inset: 0 auto 0 0;
  width: 0;
  background: linear-gradient(
    90deg,
    color-mix(in srgb, var(--profile-showcase-accent), #ffffff 18%),
    color-mix(in srgb, var(--profile-showcase-accent), #0b1f2e 10%)
  );
}

.profileShowcaseGallery {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(82px, 1fr));
  gap: 8px;
}

.profileShowcaseGallery img {
  width: 100%;
  height: 76px;
  object-fit: cover;
  border-radius: 8px;
  border: 1px solid color-mix(in srgb, var(--card-border), transparent 22%);
}

.profileCommentsSection {
  margin-top: 4px;
  display: flex;
  flex-direction: column;
  gap: 8px;
  border-top: 1px solid color-mix(in srgb, var(--card-border), transparent 32%);
  padding-top: 10px;
}

.profileCommentsList {
  display: flex;
  flex-direction: column;
  gap: 8px;
  max-height: 220px;
  overflow-y: auto;
  padding-right: 2px;
}

.profileCommentCard {
  border: 1px solid color-mix(in srgb, var(--card-border), transparent 24%);
  border-radius: 10px;
  background: color-mix(in srgb, var(--panel), var(--bg) 14%);
  padding: 8px 9px;
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.profileCommentHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
}

.profileCommentAuthor {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  font-size: 0.82rem;
  font-weight: 700;
  min-width: 0;
}

.profileCommentAuthor .friendAvatar {
  width: 20px;
  height: 20px;
  flex: 0 0 20px;
  font-size: 0.58rem;
}

.profileCommentMeta {
  color: var(--muted);
  font-size: 0.72rem;
  white-space: nowrap;
}

.profileCommentText {
  margin: 0;
  color: var(--profile-body-color);
  line-height: 1.42;
  white-space: pre-wrap;
  word-break: break-word;
}

.profileCommentDelete {
  align-self: flex-end;
  border: 1px solid color-mix(in srgb, var(--card-border), transparent 16%);
  border-radius: 8px;
  background: color-mix(in srgb, var(--panel), var(--bg) 14%);
  color: var(--text);
  padding: 5px 8px;
  font-size: 0.72rem;
  cursor: pointer;
}

.profileCommentDelete:disabled {
  opacity: 0.58;
  cursor: not-allowed;
}

.profileCommentComposer {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.profileCommentComposer textarea {
  border: 1px solid color-mix(in srgb, var(--card-border), transparent 20%);
  border-radius: 10px;
  padding: 9px 10px;
  background: color-mix(in srgb, var(--panel), var(--bg) 12%);
  color: var(--text);
  resize: vertical;
}

.profileCommentComposer textarea:focus {
  outline: none;
  border-color: var(--accent);
}

.profileCommentComposer button {
  align-self: flex-start;
  border: 0;
  border-radius: 10px;
  padding: 8px 12px;
  font-weight: 700;
  background: linear-gradient(130deg, color-mix(in srgb, var(--accent), #fff 12%), var(--accent-strong));
  color: var(--text-on-accent);
  cursor: pointer;
}

.profileCommentComposer button:disabled {
  opacity: 0.58;
  cursor: not-allowed;
}

@media (max-width: 640px) {
  .profileShowcaseList {
    grid-template-columns: 1fr;
  }

  .glytchSelectionActions {
    grid-template-columns: 1fr;
  }

  .groupMemberAddForm {
    flex-wrap: wrap;
  }

  .groupMemberAddForm button {
    width: 100%;
  }
}

.profileModalBackdrop {
  position: fixed;
  inset: 0;
  background: rgba(30, 43, 69, 0.5);
  display: grid;
  place-items: center;
  padding: 16px;
  z-index: 20;
}

.profileModal {
  width: min(700px, 100%);
  max-height: calc(100vh - 32px);
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.profileModal .profilePreviewCard {
  overflow-y: auto;
}

.profileModalActions {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.profileModalActions .ghostButton {
  align-self: flex-start;
}

.profileModalClose {
  align-self: flex-end;
  border: 0;
  border-radius: 8px;
  background: var(--panel);
  color: var(--text);
  padding: 8px 10px;
  cursor: pointer;
  font-weight: 700;
}

.bannerCropBackdrop {
  position: fixed;
  inset: 0;
  background: color-mix(in srgb, #0d1318, transparent 28%);
  display: grid;
  place-items: center;
  z-index: 24;
  padding: 16px;
}

.bannerCropDialog {
  width: min(520px, 100%);
  border: 1px solid color-mix(in srgb, var(--card-border), transparent 14%);
  border-radius: 14px;
  background: color-mix(in srgb, var(--card), var(--bg) 12%);
  box-shadow: var(--surface-shadow-strong);
  padding: 14px;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.bannerCropViewport {
  position: relative;
  width: min(100%, 420px);
  aspect-ratio: 3 / 1;
  align-self: center;
  border-radius: 12px;
  overflow: hidden;
  border: 1px solid color-mix(in srgb, var(--card-border), transparent 16%);
  background:
    linear-gradient(45deg, color-mix(in srgb, var(--panel), transparent 32%) 25%, transparent 25%) 0 0 / 16px 16px,
    linear-gradient(-45deg, color-mix(in srgb, var(--panel), transparent 32%) 25%, transparent 25%) 0 0 / 16px 16px,
    color-mix(in srgb, var(--panel), var(--bg) 24%);
  touch-action: none;
  cursor: grab;
}

.bannerCropViewport.dragging {
  cursor: grabbing;
}

.bannerCropImage {
  position: absolute;
  left: 50%;
  top: 50%;
  transform-origin: center center;
  user-select: none;
  pointer-events: none;
  -webkit-user-drag: none;
}

.bannerCropControls {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.bannerCropActions {
  display: flex;
  justify-content: flex-end;
  gap: 8px;
}

.bannerCropActions .clearButton {
  border: 1px solid color-mix(in srgb, var(--card-border), transparent 18%);
  border-radius: 10px;
  background: color-mix(in srgb, var(--panel), var(--bg) 16%);
  color: var(--text);
  padding: 8px 12px;
  cursor: pointer;
}

.bannerCropActions button:not(.clearButton) {
  border: 0;
  border-radius: 10px;
  background: linear-gradient(130deg, color-mix(in srgb, var(--accent), #fff 10%), var(--accent-strong));
  color: var(--text-on-accent);
  padding: 8px 12px;
  font-weight: 700;
  cursor: pointer;
}

.bannerCropActions button:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.inviteCode {
  margin: 0;
  font-size: 0.84rem;
  color: var(--accent-strong);
  background: color-mix(in srgb, var(--accent), transparent 82%);
  border: 1px solid color-mix(in srgb, var(--accent-strong), transparent 38%);
  border-radius: 8px;
  padding: 8px 10px;
}

@media (max-width: 860px) {
  .sidemenu {
    width: 300px;
  }

  .railIdentityPopover {
    min-width: 172px;
    max-width: 190px;
  }

  .chatLayout.withMembersPanel {
    flex-direction: column;
  }

  .membersPanelResizeHandle {
    display: none;
  }

  .membersPanel {
    width: auto;
    flex: 0 0 auto;
    max-height: 220px;
    border-left: 0;
    border-top: 1px solid var(--panel-border);
  }

  .messageRow {
    max-width: 90%;
  }

  .authCard {
    padding: 18px;
  }
}

/* v0.2.0 chat overhaul */
.page {
  position: relative;
  gap: 0;
  padding: 16px;
  box-sizing: border-box;
  overflow: hidden;
  background:
    radial-gradient(1200px 620px at 50% -30%, color-mix(in srgb, var(--accent), transparent 74%), transparent 66%),
    radial-gradient(980px 540px at 100% 120%, color-mix(in srgb, #ff846c, transparent 88%), transparent 74%),
    linear-gradient(160deg, #130f25 0%, #1a1731 46%, #120f23 100%);
}

.page::before {
  content: "";
  position: absolute;
  inset: -8%;
  pointer-events: none;
  background:
    radial-gradient(420px 210px at 12% 12%, color-mix(in srgb, #ffffff, transparent 94%), transparent 70%),
    radial-gradient(360px 170px at 82% 15%, color-mix(in srgb, #ffffff, transparent 95%), transparent 75%);
  opacity: 0.9;
}

.sidemenu,
.glytchapp {
  position: relative;
  z-index: 1;
  border: 1px solid color-mix(in srgb, var(--accent), var(--card-border) 84%);
  border-radius: 16px;
  box-shadow:
    0 10px 28px color-mix(in srgb, #03040d, transparent 62%),
    inset 0 1px 0 color-mix(in srgb, #ffffff, transparent 92%);
}

.sidemenu {
  width: 356px;
  display: flex;
  flex-direction: column;
  overflow: visible;
  border-top-right-radius: 0;
  border-bottom-right-radius: 0;
  border-right: 0;
  background:
    radial-gradient(460px 260px at -10% -5%, color-mix(in srgb, var(--accent), transparent 88%), transparent 76%),
    linear-gradient(185deg, color-mix(in srgb, #16112e, var(--panel) 66%), color-mix(in srgb, #100f22, var(--bg) 78%));
}

.primaryNav {
  width: 68px;
  flex: 0 0 68px;
  padding: 14px 8px;
  gap: 10px;
  background: color-mix(in srgb, #0f0c22, var(--panel) 72%);
  border-right: 1px solid color-mix(in srgb, var(--panel-border), transparent 16%);
}

.primaryNav .navOption > span:last-child {
  display: none;
}

.navOption {
  min-height: 44px;
  border-radius: 12px;
  padding: 10px 0;
}

.navOptionIcon {
  width: 20px;
  height: 20px;
}

.navGlytchIconButton {
  border-radius: 12px;
}

.navGlytchIcon {
  width: 30px;
  height: 30px;
}

.railSystemButton {
  width: 34px;
  height: 34px;
  border-radius: 10px;
}

.railAvatarButton {
  width: 42px;
  height: 42px;
}

.sideContent {
  padding: 14px 12px;
}

.sideContentBody {
  gap: 10px;
  padding-right: 2px;
}

.sideContentBody .requestSection,
.sideContentBody .channelList,
.sideContentBody .stackedForm,
.sideContentBody .addFriendForm {
  border-radius: 12px;
  border-color: color-mix(in srgb, var(--card-border), transparent 26%);
  background:
    radial-gradient(220px 110px at 100% -20%, color-mix(in srgb, var(--accent), transparent 92%), transparent 74%),
    color-mix(in srgb, var(--card), transparent 8%);
}

.unifiedSidebarFlow {
  flex: 1;
  min-height: 0;
  display: flex;
  flex-direction: column;
  gap: 8px;
  padding: 12px;
  overflow: visible;
}

.unifiedSidebarTopBar {
  display: flex;
  align-items: center;
  gap: 10px;
  min-height: 44px;
}

.unifiedSidebarBrandButton {
  min-width: 0;
  border: 0;
  background: transparent;
  color: var(--text);
  display: inline-flex;
  align-items: center;
  gap: 8px;
  font-size: 0.86rem;
  font-weight: 800;
  letter-spacing: 0.03em;
  cursor: pointer;
  padding: 0;
}

.unifiedSidebarBrandLogo {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  line-height: 0;
}

.unifiedSidebarBrandLogo img {
  width: 40px;
  height: 40px;
  display: block;
  object-fit: contain;
}

.unifiedSidebarBrandName {
  white-space: nowrap;
}

.unifiedSidebarFriendsToggle {
  flex: 0 0 auto;
}

.appGlyphIcon {
  --glyph-size: 20px;
  width: var(--glyph-size);
  height: var(--glyph-size);
  min-width: var(--glyph-size);
  min-height: var(--glyph-size);
  border-radius: calc(var(--glyph-size) * 0.27);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  color: #eff7ff;
  border: 1px solid color-mix(in srgb, #53c9ff, #a83dff 40%);
  background:
    radial-gradient(80% 80% at 24% 14%, color-mix(in srgb, #7ee8ff, transparent 78%), transparent 74%),
    linear-gradient(145deg, #141126, #0c0f1d);
  box-shadow:
    inset 0 1px 0 color-mix(in srgb, #ffffff, transparent 90%),
    0 0 14px color-mix(in srgb, #54ccff, transparent 76%);
}

.appGlyphIcon svg {
  width: 74%;
  height: 74%;
  stroke: currentColor;
  fill: none;
  stroke-width: 1.8;
  stroke-linecap: round;
  stroke-linejoin: round;
  filter: drop-shadow(0 0 5px color-mix(in srgb, #6fe4ff, transparent 54%));
}

.appGlyphIcon img {
  width: 100%;
  height: 100%;
  display: block;
  object-fit: contain;
  padding: 2px;
  border-radius: inherit;
}

.appGlyphIcon .glyphTrail {
  stroke: color-mix(in srgb, #56deff, #f05eff 36%);
  stroke-width: 1.5;
}

.appGlyphIcon .glyphFill {
  fill: currentColor;
  stroke: none;
}

.appGlyphIcon .glyphBadge {
  fill: color-mix(in srgb, #4ce3ff, #8e38ff 35%);
  stroke: none;
}

.appGlyphIcon .glyphBadgeCheck {
  stroke: #eafcff;
  stroke-width: 1.7;
}

.appGlyph-small {
  --glyph-size: 20px;
}

.appGlyph-medium {
  --glyph-size: 27px;
}

.appGlyph-large {
  --glyph-size: 40px;
}

.appGlyphIcon[data-kind="glytch"] {
  color: #f7f6ff;
  border-color: color-mix(in srgb, #6de8ff, #ef45ff 42%);
  background: #0b0f1a;
  box-shadow:
    inset 0 1px 0 color-mix(in srgb, #ffffff, transparent 90%),
    0 0 14px color-mix(in srgb, #54ccff, transparent 78%);
  overflow: hidden;
  padding: 0;
}

.appGlyphIcon[data-kind="glytch"] img {
  object-fit: cover;
  padding: 0;
}

.appGlyphIcon[data-kind="settings"] {
  color: #eaf9ff;
  border-color: color-mix(in srgb, #5be1ff, #8e48ff 26%);
  background:
    radial-gradient(90% 90% at 20% 10%, color-mix(in srgb, #64f0ff, transparent 74%), transparent 74%),
    linear-gradient(145deg, #121524, #081421);
}

.appGlyphIcon[data-kind="settings"] img {
  object-fit: contain;
  padding: 1px;
  width: 108%;
  height: 108%;
}

.appGlyphIcon[data-kind="friends"] {
  color: #f6f7ff;
  border-color: color-mix(in srgb, #5be6ff, #ff54ef 32%);
  background:
    radial-gradient(95% 95% at 78% 14%, color-mix(in srgb, #f857ff, transparent 84%), transparent 72%),
    linear-gradient(145deg, #141227, #0b0f20);
}

.appGlyphIcon[data-kind="group"] {
  color: #f7f8ff;
  border-color: color-mix(in srgb, #66e9ff, #9a54ff 30%);
  background:
    radial-gradient(100% 90% at 18% 82%, color-mix(in srgb, #46ebff, transparent 82%), transparent 72%),
    linear-gradient(145deg, #11152a, #0a0f20);
}

.appGlyphIcon[data-kind="discover"] {
  color: #f8f7ff;
  border-color: color-mix(in srgb, #5ce8ff, #f64cff 38%);
  background:
    radial-gradient(90% 90% at 78% 18%, color-mix(in srgb, #fb59ff, transparent 82%), transparent 74%),
    linear-gradient(145deg, #161026, #0c1122);
}

.appGlyphIcon[data-kind="patch"] {
  color: #f3faff;
  border-color: color-mix(in srgb, #5be1ff, #f65ff5 34%);
  background:
    radial-gradient(90% 90% at 12% 50%, color-mix(in srgb, #58deff, transparent 82%), transparent 75%),
    linear-gradient(145deg, #111426, #0a1020);
}

.unifiedSidebarGlobalSearch {
  flex: 1;
  min-width: 0;
  border: 1px solid color-mix(in srgb, var(--card-border), transparent 16%);
  border-radius: 12px;
  min-height: 36px;
  padding: 8px 11px;
  background: color-mix(in srgb, var(--panel), var(--bg) 12%);
  color: var(--text);
  outline: none;
}

.unifiedSidebarGlobalSearch:focus {
  border-color: color-mix(in srgb, var(--accent), var(--card-border) 25%);
}

.unifiedSidebarNavList {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.unifiedSidebarNavItem {
  display: inline-flex;
  align-items: center;
  gap: 9px;
  justify-content: flex-start;
  min-height: 38px;
  padding: 7px 10px;
  font-size: 0.85rem;
  border-color: transparent;
  background: transparent;
  box-shadow: none;
}

.unifiedSidebarNavItem:hover {
  transform: none;
  border-color: transparent;
  background: color-mix(in srgb, var(--panel), #ffffff 4%);
}

.unifiedSidebarNavItem.active {
  border-color: transparent;
  background: color-mix(in srgb, var(--accent), var(--panel) 88%);
  box-shadow: none;
  color: var(--text);
}

.unifiedSidebarBody {
  flex: 1;
  min-height: 0;
  overflow-y: auto;
  overflow-x: hidden;
  padding-right: 3px;
  padding-top: 4px;
}

.unifiedSidebarBody::-webkit-scrollbar {
  width: 10px;
}

.unifiedSidebarBody::-webkit-scrollbar-thumb {
  background: color-mix(in srgb, var(--panel-border), transparent 8%);
  border-radius: 999px;
}

.unifiedSidebarSection {
  display: flex;
  flex-direction: column;
  gap: 8px;
  margin: 0;
}

.unifiedSidebarDmTabs {
  margin-bottom: 8px;
}

.unifiedSidebarSection .sectionLabel {
  margin-bottom: 4px;
  font-size: 0.82rem;
  letter-spacing: 0.1em;
  display: inline-flex;
  align-items: center;
  gap: 8px;
}

.unifiedSidebarSectionIcon {
  flex: 0 0 auto;
}

.unifiedSidebarFlow .requestSection,
.unifiedSidebarFlow .channelList,
.unifiedSidebarFlow .stackedForm,
.unifiedSidebarFlow .addFriendForm {
  border: 0;
  box-shadow: none;
  background: transparent;
  padding: 0;
}

.unifiedSidebarSection.unifiedSidebarFriends {
  flex: 1;
  min-height: 0;
  margin-top: 10px;
}

.unifiedSidebarSection.unifiedSidebarGroups {
  margin-top: 10px;
}

.unifiedSidebarHeadingRow {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
}

.unifiedSidebarMiniButton {
  border: 1px solid color-mix(in srgb, var(--card-border), transparent 22%);
  border-radius: 9px;
  background: color-mix(in srgb, var(--panel), var(--bg) 18%);
  color: var(--text);
  font-size: 0.72rem;
  font-weight: 700;
  padding: 5px 9px;
  cursor: pointer;
}

.unifiedSidebarMiniButton:disabled {
  opacity: 0.56;
  cursor: not-allowed;
}

.unifiedSidebarMiniButton:hover:not(:disabled) {
  border-color: color-mix(in srgb, var(--accent), var(--card-border) 32%);
  background: color-mix(in srgb, var(--accent), var(--panel) 82%);
}

.unifiedSidebarAddFriendForm {
  margin: 0;
}

.unifiedListItem {
  border-color: transparent;
  background: color-mix(in srgb, var(--panel), transparent 40%);
  box-shadow: none;
}

.unifiedListItem:hover {
  border-color: transparent;
  background: color-mix(in srgb, var(--panel), #ffffff 5%);
  transform: none;
}

.unifiedListItem.active {
  border-color: transparent;
  background: color-mix(in srgb, var(--accent), var(--panel) 88%);
  box-shadow: none;
  color: var(--text);
}

.unifiedSidebarList {
  min-height: 0;
  overflow: visible;
  padding-right: 0;
}

.unifiedSidebarChannelList {
  border-top: 0;
  padding-top: 0;
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.unifiedSidebarChannelList .sectionLabel {
  margin: 0;
}

.unifiedSidebarChannels {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.unifiedSidebarChannels .channelItem {
  justify-content: flex-start;
}

.unifiedSidebarFooter {
  margin-top: auto;
  display: flex;
  flex-direction: column;
  gap: 10px;
  overflow: visible;
}

.unifiedSidebarDiscover {
  width: 100%;
  min-height: 40px;
  justify-content: center;
  gap: 8px;
}

.unifiedActionIcon {
  flex: 0 0 auto;
}

.unifiedSidebarIdentity {
  margin: 0;
  gap: 8px;
  justify-content: space-between;
  overflow: visible;
}

.unifiedSidebarIdentity .identityMeta {
  min-width: 0;
  gap: 2px;
}

.unifiedSidebarIdentity .userName {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.unifiedSidebarIdentityMeta {
  flex: 1;
}

.unifiedSidebarFooterActions {
  display: inline-flex;
  align-items: center;
  gap: 8px;
}

.unifiedSidebarPrimarySection {
  min-height: 100%;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.unifiedSidebarBackButton {
  min-height: 34px;
  padding: 6px 10px;
  font-size: 0.75rem;
}

.mainGlytchRow {
  min-height: 54px;
  justify-content: flex-start;
  padding: 8px 10px;
}

.mainGlytchRow .glytchItemIcon {
  width: 40px;
  height: 40px;
  min-width: 40px;
  min-height: 40px;
  max-width: 40px;
  max-height: 40px;
  aspect-ratio: 1 / 1;
  border-radius: 8px;
  font-size: 0.9rem;
}

.mainGlytchRow .glytchItemName {
  font-size: 0.9rem;
  font-weight: 700;
}

.mainGlytchRow .glytchItemLabel,
.mainDmRow .dmNameRow {
  min-width: 0;
}

.mainDmRow .friendAvatar {
  width: 42px;
  height: 42px;
  flex: 0 0 42px;
}

.mainDmRow .channelItem.friendItem {
  min-height: 56px;
  padding: 8px 10px;
}

.mainDmRow .dmNameText {
  font-size: 0.88rem;
}

.unifiedSidebarProfileWrap {
  position: relative;
  display: inline-flex;
  align-items: center;
  z-index: 65;
}

.unifiedSidebarProfileButton {
  width: 44px;
  height: 44px;
  min-width: 44px;
  min-height: 44px;
}

.unifiedSidebarProfilePopover {
  position: absolute;
  left: 0;
  right: auto;
  bottom: calc(100% + 2px);
  min-width: 200px;
  max-width: min(240px, calc(100vw - 26px));
  opacity: 0;
  transform: translateY(6px);
  visibility: hidden;
  pointer-events: none;
  z-index: 60;
  transform-origin: left bottom;
  transition: opacity 0.16s ease, transform 0.16s ease, visibility 0.16s ease;
}

.unifiedSidebarProfileWrap:hover .unifiedSidebarProfilePopover,
.unifiedSidebarProfileWrap:focus-within .unifiedSidebarProfilePopover,
.unifiedSidebarProfilePopover:hover,
.unifiedSidebarProfilePopover:focus-within {
  opacity: 1;
  transform: translateY(0);
  visibility: visible;
  pointer-events: auto;
}

.unifiedSidebarProfilePopover .identityMeta {
  gap: 4px;
}

.unifiedSidebarProfilePopover .userName {
  margin: 0;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.unifiedSidebarProfilePopover .settingsLink {
  margin-top: 2px;
}

.glytchapp {
  border-top-left-radius: 0;
  border-bottom-left-radius: 0;
  margin-left: -1px;
  background:
    radial-gradient(760px 380px at 58% -30%, color-mix(in srgb, var(--accent), transparent 84%), transparent 72%),
    linear-gradient(180deg, color-mix(in srgb, #120f27, var(--panel) 64%), color-mix(in srgb, #0e0d1f, var(--bg) 72%));
}

.chat-header {
  height: 64px;
  padding: 0 18px;
  border-bottom: 1px solid color-mix(in srgb, var(--panel-border), transparent 22%);
  background:
    radial-gradient(320px 140px at 2% -40%, color-mix(in srgb, var(--accent), transparent 90%), transparent 68%),
    color-mix(in srgb, #13102a, var(--panel) 68%);
}

.chatHeaderTitle {
  font-size: 0.98rem;
}

.chatHeaderTitleWithSwitch {
  display: inline-flex;
  align-items: center;
  gap: 10px;
}

.headerSwitchSelect {
  border: 1px solid color-mix(in srgb, var(--panel-border), transparent 26%);
  border-radius: 10px;
  background: color-mix(in srgb, var(--panel), var(--bg) 16%);
  color: var(--text);
  min-height: 32px;
  padding: 4px 10px;
}

.glytchDirectoryGrid,
.groupDirectoryGrid {
  display: grid;
  grid-template-columns: repeat(5, minmax(0, 1fr));
  gap: 8px;
}

.directoryGlytchCard,
.directoryGroupCard {
  min-height: 0;
  aspect-ratio: 1 / 1;
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  align-items: stretch;
  gap: 8px;
  padding: 10px;
}

.directoryGroupCard .dmNameRow {
  width: 100%;
}

.directoryGlytchVisual {
  width: 100%;
  flex: 1;
  min-height: 0;
  border-radius: 10px;
  border: 1px solid color-mix(in srgb, var(--panel-border), transparent 26%);
  background:
    radial-gradient(170px 90px at 8% 8%, color-mix(in srgb, var(--accent), transparent 90%), transparent 70%),
    color-mix(in srgb, var(--panel), var(--bg) 14%);
  overflow: hidden;
  display: grid;
  place-items: center;
  font-size: 1.65rem;
  font-weight: 800;
}

.directoryGlytchVisual img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.directoryGlytchName {
  width: 100%;
  text-align: center;
  font-size: 0.84rem;
  font-weight: 700;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.directoryGlytchCard .smallMuted,
.directoryGroupCard .smallMuted {
  margin-top: auto;
}

.glytchDirectoryTopActions {
  display: flex;
  align-items: center;
  gap: 8px;
}

.glytchDirectoryTopActions .channelItem {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  min-height: 40px;
  padding: 8px 12px;
}

@media (max-width: 1500px) {
  .glytchDirectoryGrid,
  .groupDirectoryGrid {
    grid-template-columns: repeat(4, minmax(0, 1fr));
  }
}

@media (max-width: 1220px) {
  .glytchDirectoryGrid,
  .groupDirectoryGrid {
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }
}

@media (max-width: 920px) {
  .glytchDirectoryGrid,
  .groupDirectoryGrid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}

@media (max-width: 560px) {
  .glytchDirectoryGrid,
  .groupDirectoryGrid {
    grid-template-columns: 1fr;
  }
}

.onlineFriendsPanel {
  display: flex;
  flex-direction: column;
  gap: 10px;
  padding: 12px;
  border: 1px solid color-mix(in srgb, var(--panel-border), transparent 20%);
  border-radius: 14px;
  background:
    radial-gradient(340px 170px at 100% -25%, color-mix(in srgb, var(--accent), transparent 90%), transparent 72%),
    color-mix(in srgb, var(--panel), var(--bg) 12%);
}

.onlineFriendsGrid {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 10px;
}

@media (max-width: 1180px) {
  .onlineFriendsGrid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}

@media (max-width: 720px) {
  .onlineFriendsGrid {
    grid-template-columns: 1fr;
  }
}

.onlineFriendCard {
  border: 1px solid color-mix(in srgb, var(--panel-border), transparent 26%);
  border-radius: 12px;
  background:
    radial-gradient(180px 90px at -20% -20%, color-mix(in srgb, var(--accent), transparent 92%), transparent 70%),
    color-mix(in srgb, var(--card), var(--panel) 22%);
  color: var(--text);
  display: inline-flex;
  align-items: center;
  gap: 10px;
  padding: 10px 12px;
  text-align: left;
  cursor: pointer;
}

.onlineFriendCard:hover {
  border-color: color-mix(in srgb, var(--accent), var(--panel-border) 34%);
  background: color-mix(in srgb, var(--accent), var(--panel) 84%);
}

.onlineFriendMeta {
  min-width: 0;
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.onlineFriendMeta strong,
.onlineFriendMeta span {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.chatLayout {
  min-height: 0;
  background: color-mix(in srgb, #110f23, var(--bg) 74%);
}

.chatLayout.withMembersPanel {
  --members-panel-width: 320px;
}

.chatLayout.withMembersPanel .chatStreamColumn {
  min-width: 0;
}

.chatStreamColumn {
  background:
    radial-gradient(800px 420px at 50% 100%, color-mix(in srgb, var(--accent), transparent 90%), transparent 76%),
    transparent;
}

.messagedisplay {
  gap: 12px;
  padding: 16px 18px;
}

.dmMessageSearchBar {
  margin: 10px 12px 8px;
}

.dmMessageSearchBar input {
  width: 100%;
  border: 1px solid color-mix(in srgb, var(--panel-border), transparent 20%);
  border-radius: 12px;
  min-height: 38px;
  padding: 8px 11px;
  background: color-mix(in srgb, var(--panel), var(--bg) 14%);
  color: var(--text);
  outline: none;
}

.dmMessageSearchBar input:focus {
  border-color: color-mix(in srgb, var(--accent), var(--panel-border) 30%);
}

.messageRow {
  max-width: 74%;
}

.voicePanel.dmVoicePanelTop,
.voicePanel.screenSharePanel {
  margin: 10px 12px 0;
  border-radius: 12px;
}

.messageSubmitArea {
  margin: 10px 12px 12px;
  border: 1px solid color-mix(in srgb, var(--panel-border), transparent 24%);
  border-radius: 14px;
  border-top: 1px solid color-mix(in srgb, var(--panel-border), transparent 24%);
  background: color-mix(in srgb, #15112b, var(--panel) 66%);
  padding: 10px 12px;
}

.composerReplyPreview,
.composerAttachmentPreview,
.emojiPicker,
.gifPicker {
  margin: 0 12px;
  border-radius: 12px;
}

.membersPanel {
  border-left: 1px solid color-mix(in srgb, var(--panel-border), transparent 22%);
  background:
    radial-gradient(260px 130px at 100% -20%, color-mix(in srgb, var(--accent), transparent 88%), transparent 74%),
    color-mix(in srgb, #141029, var(--panel) 70%);
  padding: 12px;
  gap: 8px;
}

.membersPanelResizeHandle::after {
  width: 1px;
  background: color-mix(in srgb, var(--panel-border), transparent 24%);
}

.dmInAppBanner {
  position: fixed;
  right: 24px;
  top: 24px;
  z-index: 38;
  width: min(340px, calc(100vw - 36px));
  display: flex;
  align-items: center;
  gap: 10px;
  text-align: left;
  border: 1px solid color-mix(in srgb, var(--accent), var(--panel-border) 58%);
  border-radius: 14px;
  padding: 10px 11px;
  background:
    radial-gradient(240px 110px at 100% -30%, color-mix(in srgb, var(--accent), transparent 86%), transparent 72%),
    color-mix(in srgb, #16112f, var(--panel) 68%);
  color: var(--text);
  box-shadow:
    0 10px 24px color-mix(in srgb, #02040e, transparent 58%),
    inset 0 1px 0 color-mix(in srgb, #ffffff, transparent 92%);
  cursor: pointer;
}

.dmInAppBanner.call {
  border-color: color-mix(in srgb, #4be7ff, var(--panel-border) 38%);
  background:
    radial-gradient(220px 120px at 100% -20%, color-mix(in srgb, #47e7ff, transparent 78%), transparent 72%),
    color-mix(in srgb, #101b32, var(--panel) 68%);
}

.dmInAppBannerAvatar {
  width: 42px;
  height: 42px;
  min-width: 42px;
}

.dmInAppBannerMeta {
  min-width: 0;
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.dmInAppBannerMeta strong,
.dmInAppBannerMeta span {
  min-width: 0;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.mainGroupRow {
  min-height: 52px;
}

@media (max-width: 1260px) {
  .chatLayout.withMembersPanel {
    --members-panel-width: 280px;
  }
}

@media (max-width: 980px) {
  .page {
    padding: 10px;
    gap: 0;
  }

  .sidemenu {
    width: 308px;
  }
}

@media (max-width: 900px) {
  .page {
    flex-direction: column;
  }

  .sidemenu {
    width: 100%;
    min-height: 228px;
    max-height: 42%;
  }

  .unifiedSidebarFlow {
    padding: 10px;
    gap: 8px;
  }

  .unifiedSidebarBody {
    padding-right: 1px;
  }

  .mainGlytchRow .glytchItemIcon {
    width: 34px;
    height: 34px;
    min-width: 34px;
    min-height: 34px;
  }

  .mainDmRow .friendAvatar {
    width: 34px;
    height: 34px;
    flex-basis: 34px;
  }

  .dmInAppBanner {
    right: 14px;
    width: auto;
    top: 14px;
  }

  .chatLayout.withMembersPanel {
    flex-direction: column;
  }

  .membersPanelResizeHandle {
    display: none;
  }

  .membersPanel {
    width: auto;
    flex: 0 0 auto;
    max-height: 220px;
    border-left: 0;
    border-top: 1px solid color-mix(in srgb, var(--panel-border), transparent 24%);
  }

  .messageRow {
    max-width: 92%;
  }

  .page {
    gap: 10px;
  }

  .sidemenu {
    border-top-right-radius: 16px;
    border-bottom-right-radius: 16px;
    border-right: 1px solid color-mix(in srgb, var(--accent), var(--card-border) 84%);
  }

  .glytchapp {
    border-top-left-radius: 16px;
    border-bottom-left-radius: 16px;
    margin-left: 0;
  }
}
